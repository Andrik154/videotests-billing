{"version":3,"sources":["logo.svg","components/Testlist.js","components/Signin.js","components/Usertest.js","components/Addtest.js","components/Purchase.js","components/Afterlife.js","components/Payment.js","App.js","reportWebVitals.js","index.js"],"names":["Testlist","useState","isLoading","setLoading","testlist","setTestlist","selectVal","setSelectVal","useEffect","fetch","window","API_LINK","then","res","json","data","Array","from","push","Object","assign","console","log","classList","name","value","onChange","e","target","keys","map","grade","className","item","id","stats","Signin","props","toggleblock","settoggleblock","nosuccess","setnosuccess","JSON","parse","localStorage","getItem","savedcreds","setsavedcreds","useLocation","setLocation","onSubmit","preventDefault","form","login","elements","inputLogin","pass","inputPass","method","headers","body","stringify","r","d","success","storageData","PHPSESSID","save","checked","setItem","setAdditionalData","backend","setuser","hidden","for","type","placeholder","defaultValue","disabled","required","class","role","Usertest","user","show","style","height","maxHeight","additionalData","pupil","tests","test","title","fakeId","compliteCount","onClick","to","Addtest","f","payload","answers","questions","price","alert","catch","Purchase","redir","setshow","setTest","nomoney","setnomoney","handling","sethandling","exists","color","firstname","lastname","find","i","cash","setcash","Afterlife","errorsList","text","Payment","handleUi","isNaN","parseFloat","promoEvent","promo","checkedPromo","ui","setUi","multiplier","setMultiplier","ready","setReady","newPromo","setNewPromo","setCheckedPromo","setHandling","useRef","errors","setErrors","ref","current","inputSum","inputPromo","uiStatus","promoStatus","key","step","min","publicKey","amount","toFixed","account","encodeURIComponent","customFields","themeCode","lifetime","Date","now","getFullYear","getMonth","getDate","getHours","getMinutes","successUrl","location","origin","restP","qsp","URLSearchParams","url","toString","href","goodPromo","length","App","setIsLoading","a","removeItem","err","marginLeft","path","component","p","textDecoration","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wOAAe,I,mBC0DAA,MAxDf,WACI,MAAgCC,oBAAS,GAAzC,mBAAOC,EAAP,KAAkBC,EAAlB,KAEA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAAkCJ,mBAAS,GAA3C,mBAAOK,EAAP,KAAkBC,EAAlB,KAWA,OATAC,qBAAU,WACNC,MAAMC,OAAOC,SAAS,gBAAgBC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAAQF,MAAK,SAAAG,GAC3CC,MAAMC,KAAKb,GAAUc,KAAKH,GAC7CV,EAAYc,OAAOC,OAAOhB,EAAUW,IACpCZ,GAAW,MAEdkB,QAAQC,IAAIlB,KACd,IAECF,EAEK,8DAMA,gCACI,yDACA,yBAAQqB,UAAU,MAAMC,KAAK,QAAQC,MAAOnB,EAAWoB,SAAU,SAAAC,GAAC,OAAEpB,EAAaoB,EAAEC,OAAOH,QAA1F,UACI,wBAAQA,MAAM,IAAd,eACCN,OAAOU,KAAKzB,GAAU0B,KAAI,SAACC,GACxB,OACI,wBAAQN,MAAOM,EAAf,SAAuBA,UAIvB,GAAXzB,GACD,qBAAK0B,UAAU,4BAAf,SACS5B,EAASE,GAAWwB,KAAI,SAACG,GAEtB,OADAZ,QAAQC,IAAIW,GAER,qBAAKD,UAAU,WAAf,SACI,qBAAKA,UAAU,qBAAf,SACI,sBAAKA,UAAU,qBAAf,UACA,iCAASC,EAAKT,OADd,IAC6B,uBAC7B,yCAFA,IAEsBS,EAAKC,GAF3B,IAE+B,uBAC/B,4CAHA,IAGyBD,EAAKE,MAH9B,IAGqC,uBACrC,wBAAQH,UAAU,gCAAlB,4C,OCsEzBI,MAjHf,SAAgBC,GACZ,MAAsCpC,oBAAS,GAA/C,mBAAOqC,EAAP,KAAoBC,EAApB,KACA,EAAkCtC,oBAAS,GAA3C,mBAAOuC,EAAP,KAAkBC,EAAlB,KACA,EAAoCxC,mBAASyC,KAAKC,MAAMC,aAAaC,QAAQ,iBAA7E,mBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAAgCC,cAAhC,mBAAiBC,GAAjB,WA6DA,OACI,sBAAKjB,UAAU,wDAAf,UACI,qBAAKA,UAAU,wCAAf,SACI,4DAEJ,uBAAMkB,SAhEd,SAAgBvB,GACZA,EAAEwB,iBACF,IAAIC,EAAOzB,EAAEC,OACbW,GAAe,GACf,IAAIc,EAAQD,EAAKE,SAASC,WAAW9B,MACjC+B,EAAOJ,EAAKE,SAASG,UAAUhC,MACnChB,MAAMC,OAAOC,SAAS,UAAW,CAC7B+C,OAAO,OACPC,QAAQ,CACJ,eAAe,oBAEnBC,KAAKlB,KAAKmB,UAAU,CAChB,MAAQ,CACJ,MAAQR,EACR,KAAOG,OAGhB5C,MAAK,SAAAkD,GAAC,OAAEA,EAAEhD,UAAQF,MAAK,SAAAmD,GACtB,GAAIA,EAAEC,QAAQ,CACVvB,GAAa,GACb,IAAIwB,EAAc,CACd,MAAQZ,EACR,KAAOG,EACP,UAAYO,EAAEG,WAElBzD,MAAMC,OAAOC,SAAS,WACtB,CACI+C,OAAO,OACPC,QAAQ,CACJ,eAAe,oBAEnBC,KAAKlB,KAAKmB,UAAU,CAChB,UAAYI,EAAYC,UACxB,MAAQD,EAAYZ,UAEzBzC,MAAK,SAAAkD,GAAC,OAAEA,EAAEhD,UAAQF,MAAK,SAAAmD,GAClBA,EAAEC,SACCZ,EAAKE,SAASa,KAAKC,UACPxB,aAAayB,QAAQ,cAAc3B,KAAKmB,UAAU,CAACR,EAAOG,KACrET,EAAcL,KAAKC,MAAMC,aAAaC,QAAQ,kBAElDR,EAAMiC,kBAAkBnD,OAAOC,OAAO2C,EAAEQ,UACxC3B,aAAayB,QAAQ,OAAO3B,KAAKmB,UAAUI,IAC3C5B,EAAMmC,QAAQP,GACd1B,GAAe,GACfU,EAAY,OAEZR,GAAa,GACbF,GAAe,YAKvBE,GAAa,GACbF,GAAe,OAUKP,UAAU,YAAlC,UACI,qBAAKA,UAAU,uBAAuByC,QAASjC,EAA/C,SACI,qBAAKR,UAAU,YAAf,oIAIJ,sBAAKA,UAAU,MAAf,UACI,uBAAO0C,IAAI,aAAa1C,UAAU,uBAAlC,4CACA,qBAAKA,UAAU,QAAf,SACI,uBAAOR,KAAK,aAAamD,KAAK,OAAOC,YAAY,UAAU5C,UAAU,QAAQ6C,aAAc/B,GAAYA,EAAW,GAAIgC,SAAUxC,EAAayC,UAAQ,SAG7J,sBAAK/C,UAAU,MAAf,UACI,uBAAO0C,IAAI,YAAY1C,UAAU,uBAAjC,kDACA,qBAAKA,UAAU,QAAf,SACI,uBAAOR,KAAK,YAAYmD,KAAK,OAAOC,YAAY,OAAO5C,UAAU,QAAQ6C,aAAc/B,GAAYA,EAAW,GAAIgC,SAAUxC,EAAayC,UAAQ,SAGzJ,sBAAK/C,UAAU,MAAf,UACI,qBAAKA,UAAU,UAEf,qBAAKA,UAAU,QAAf,SACI,sBAAKA,UAAU,aAAf,UACI,uBAAOgD,MAAM,mBAAmBL,KAAK,WAAWnD,KAAK,OAAOC,OAAK,IACjE,uBAAOuD,MAAM,mBAAmBN,IAAI,OAApC,mIAMZ,sBAAK1C,UAAU,iCAAf,UACI,wBAAQR,KAAK,SAASmD,KAAK,SAASK,MAAM,kBAAkBF,SAAUxC,EAAtE,4CACA,qBAAKN,UAAU,OAAOyC,QAASnC,EAA/B,SACI,qBAAK0C,MAAM,iBAAiBC,KAAK,SAAjC,SACI,sBAAMD,MAAM,kBAAZ,sCC1CbE,MA9Df,SAAkB7C,GACd,MAAgCW,cAAhC,mBAAiBC,GAAjB,WACA,EAAwBhD,mBAASoC,EAAM8C,OAAM,GAA7C,mBAAOC,EAAP,KAEA,OAFA,KAEGA,EAEK,qBAAKC,MAAO,CAACC,OAAO,QAApB,SAuBI,qBAAKtD,UAAU,4BAA4BqD,MAAO,CAACE,UAAU,QAA7D,SACClD,EAAMmD,eAAeC,MAAMC,MAAM5D,KAAI,SAACG,GAE3B,OADAZ,QAAQC,IAAIW,GAER,qBAAKD,UAAU,GAAf,SACI,qBAAKA,UAAU,SAAf,SACI,sBAAKA,UAAU,wCAAf,UACA,iCAASC,EAAK0D,KAAKC,QADnB,IACmC,uBACnC,yCAFA,IAEsB3D,EAAK0D,KAAKE,OAFhC,IAEwC,uBAEhB,GAApB5D,EAAK6D,cACD,wBAAQ9D,UAAU,4DAA4D+D,QAAS,kBAAI9C,EAAY,aAAD,OAAchB,EAAK0D,KAAKE,UAA9H,2BAEA,wBAAQ7D,UAAU,8DAA8D8C,UAAU,EAA1F,qCAapC,8BACI,cAAC,IAAD,CAAUkB,GAAG,eCzBdC,MAlCf,WAoBI,OACI,8BACI,uBAAM/C,SArBd,SAAcvB,GACVA,EAAEwB,iBACF,IAAI+C,EAAGvE,EAAEC,OACLuE,EAAU,CACV,KAAQD,EAAE5C,SAASE,KAAK/B,MACxB,GAAMyE,EAAE5C,SAASpB,GAAGT,MACpB,QAAWyE,EAAE5C,SAAS8C,QAAQ3E,MAC9B,UAAayE,EAAE5C,SAAS+C,UAAU5E,MAClC,MAASyE,EAAE5C,SAASgD,MAAM7E,OAG9BhB,MAAOC,OAAOC,SAAW,WAAY,CACjC+C,OAAQ,OACRC,QAAQ,CACJ,eAAe,oBAEnBC,KAAMlB,KAAKmB,UAAUsC,KACtBvF,MAAK,SAAAkD,GAAC,OAAEA,EAAEhD,UAAQF,MAAK,SAAAmD,GAAIA,EAAEC,QAAQuC,MAAM,MAAMA,MAAM,gCAA+BC,OAAM,SAAA7E,GAAC,OAAE4E,MAAM,QAAD,OAAS5E,QAI5G,UACA,uBAAOgD,KAAK,OAAOC,YAAY,OAAOpD,KAAK,SAD3C,IAC2D,uBAC3D,uBAAOmD,KAAK,OAAOC,YAAY,UAAUpD,KAAK,OAF9C,IAE4D,uBAC5D,uBAAOmD,KAAK,OAAOC,YAAY,UAAUpD,KAAK,YAH9C,IAGiE,uBACjE,uBAAOmD,KAAK,OAAOC,YAAY,YAAYpD,KAAK,cAJhD,IAIqE,uBACrE,uBAAOmD,KAAK,OAAOC,YAAY,qGAA+BpD,KAAK,UALnE,IAKoF,uBACpF,gD,OCqEGiF,MA9Ff,SAAkBpE,GACd,IAmEW,EAnEX,EAA0BpC,mBAASoC,EAAM8C,OAAM,GAA/C,mBAAOuB,EAAP,KACA,GADA,KACwBzG,oBAAS,IAAjC,mBAAOmF,EAAP,KAAauB,EAAb,KACA,EAAwB1G,oBAAS,GAAjC,mBAAO0F,EAAP,KAAaiB,EAAb,KACA,EAA8B3G,oBAAS,GAAvC,mBAAO4G,EAAP,KAAgBC,EAAhB,KACA,EAAgC7G,oBAAS,GAAzC,mBAAO8G,EAAP,KAAiBC,EAAjB,KACA,EAAgChE,cAAhC,mBAAiBC,GAAjB,WAiDA,OAtBAzC,qBAAU,WACNC,MAAMC,OAAOC,SAAW,QAAS,CAC7B+C,OAAO,OACPC,QAAQ,CACJ,eAAe,oBAEnBC,KAAMlB,KAAKmB,UAAU,CACjB3B,GAAIG,EAAMH,OAEftB,MAAK,SAAAkD,GAAC,OAAEA,EAAEhD,UAAQF,MAAK,SAAAmD,GACfA,EAAEC,QACED,EAAEkD,QACDL,EAAQ7C,EAAEkD,QACVN,GAAQ,IAERA,GAAQ,GAGZJ,MAAM,+BAGpB,IACEG,EAEMtB,EACFO,EAYI,8BACI,sBAAK3D,UAAU,cAAf,UACI,sBAAMkF,MAAM,MAAMzC,QAASoC,EAA3B,SAAoC,oEACpC,8BAAG,+CAA2BxE,EAAMmD,eAAeC,MAAM0B,UAAzD,IAAqE9E,EAAMmD,eAAeC,MAAM2B,YAChG,8BAAG,4CAAwB/E,EAAMmD,eAAeC,MAAMC,MAAM2B,MAAK,SAAAC,GAAC,OAAEA,EAAE3B,KAAKE,QAAQxD,EAAMH,MAAIyD,KAAKC,SAClG,8BAAG,+CAA2BvD,EAAMkF,KAAK,KAAK,EAA9C,IAAkDlF,EAAMkF,KAAK,IAA7D,UACA,8BAAG,6CAAyB5B,EAAK,KAAK,EAAtC,IAA0CA,EAAK,IAA/C,UACA,sBAAK3D,UAAU,iCAAf,UACI,2BAAQA,UAAU,yDAAyD8C,SAAUzC,EAAMmD,eAAe+B,KAAK5B,GAA/G,yBAA+HoB,GAA/H,yBAvExB,SAAuBpF,GAChBgE,EAAKtD,EAAMmD,eAAe+B,KACzBT,GAAW,IAEXE,GAAY,GACZvG,MAAMC,OAAOC,SAAW,gBAAiB,CACrC+C,OAAO,OACPC,QAAQ,CACJ,eAAe,oBAEnBC,KAAKlB,KAAKmB,UAAU,CAChBR,MAAMhB,EAAM8C,KAAK9B,MACjBG,KAAMnB,EAAM8C,KAAK3B,KACjBmC,KAAMtD,EAAMH,OAEjBtB,MAAK,SAAAkD,GAAC,OAAEA,EAAEhD,UAAQF,MAAK,SAAAmD,GACnBA,EAAEC,SACD3B,EAAMmF,QAAQnF,EAAMkF,KAAK5B,GACzB1C,EAAY,gBAEZ+D,GAAY,GACZT,MAAM,mEAkDE,8CACA,qBAAKvE,UAAU,OAAOyC,QAASsC,EAA/B,SACI,qBAAK/B,MAAM,iBAAiBC,KAAK,SAAjC,SACI,sBAAMD,MAAM,kBAAZ,oCArBxB,8BACI,sBAAKhD,UAAU,cAAf,UACI,8BAAG,+CAA2BK,EAAMmD,eAAeC,MAAM0B,UAAzD,IAAqE9E,EAAMmD,eAAeC,MAAM2B,YAChG,8BAAG,4CAAwB/E,EAAMmD,eAAeC,MAAMC,MAAM2B,MAAK,SAAAC,GAAC,OAAEA,EAAE3B,KAAKE,QAAQxD,EAAMH,MAAIyD,KAAKC,SAClG,4BAAG,6GA0BP,wDAlCD,cAAC,IAAD,CAAUI,GAAG,aC5CbyB,MAdf,WACI,OACI,gCACI,oBAAIzF,UAAU,OAAd,iHAGA,oBAAIA,UAAU,cAAd,+DACA,g+C,mCCPN0F,EAAa,CACf,IAAM,CACFC,KAAK,6LAET,MAAQ,CACJA,KAAK,8EAET,SAAW,CACPA,KAAK,+HAwKEC,MArKf,SAAiBvF,GACb,IA4DMwF,EAAW,SAACP,GACd,OAAGQ,MAAMR,GACE,EACG,IAAHA,EACA,EACe,GAAfS,WAAWT,GACX,EAEA,GAGTU,EAAa,SAACC,GAChB,OAAIA,GAAOC,EAAaP,KACb,EAEA,GAuCf,EAAoB1H,mBAAS,KAA7B,mBAAOkI,EAAP,KAAWC,EAAX,KACA,EAAoCnI,mBAAS,GAA7C,mBAAOoI,EAAP,KAAmBC,EAAnB,KACA,EAA0BrI,oBAAS,GAAnC,mBAAOsI,EAAP,KAAcC,EAAd,KACA,EAAgCvI,oBAAS,GAAzC,mBAAOwI,EAAP,KAAiBC,EAAjB,KACA,EAAwCzI,mBAAS,CAAC0H,KAAK,GAAIU,WAAW,IAAtE,mBAAOH,EAAP,KAAqBS,EAArB,KACA,EAAgC1I,oBAAS,GAAzC,mBAAO8G,EAAP,KAAiB6B,EAAjB,KACMxF,EAAOyF,iBAAO,MAChB,EAAuB5I,mBAAS,IAApC,mBAAK6I,EAAL,KAAaC,EAAb,KAEA,OACI,sBAAK/G,UAAU,sCAAf,UACI,qBAAKA,UAAU,wCAAf,SACI,mHAEJ,uBAAOA,UAAU,YAAYgH,IAAK5F,EAAMF,SAAU,SAACvB,GAAKA,EAAEwB,kBAAmBzB,SA7GlE,SAACC,GAChB,IAAImH,EAAS,GACPX,EAAK/E,EAAK6F,QAAQ3F,SAAS4F,SAASzH,MACpCwG,EAAQ7E,EAAK6F,QAAQ3F,SAAS6F,WAAW1H,MAEzC2H,EAAWvB,EAASM,GACpBkB,EAAcrB,EAAWC,GAC/B,OAAQmB,GACJ,KAAK,EACDhB,EAAML,WAAWI,IACjB,MACJ,KAAK,EACDW,EAAO5H,KAAK,SACZkH,EAAM,GACN,MACJ,KAAK,EACDU,EAAO5H,KAAK,OACZkH,EAAM,GACN,MACJ,KAAK,EACDU,EAAO5H,KAAK,SACZkH,EAAM,GAGd,OAAOiB,GACH,KAAK,EACDf,EAAcJ,EAAaG,YAC3BK,GAAY,GACZ,MACJ,KAAK,EACDJ,EAAc,GACdI,EAAYT,GAIhBO,EADU,IAAXY,GAA8B,IAAdC,GAKnBN,EAAUD,IAsEN,UAEQA,EAAOhH,KAAI,SAACwH,GAAD,OAAO,qBAAKtH,UAAU,uBAAf,SAAsC,qBAAKA,UAAU,SAAf,SAAyB0F,EAAW4B,GAAK3B,YAErG,sBAAK3F,UAAU,yBAAf,UACI,uBAAO0C,IAAI,WAAW1C,UAAU,uBAAhC,6CACA,qBAAKA,UAAU,QAAf,SACI,uBAAOR,KAAK,WAAWmD,KAAK,SAAS4E,KAAK,OAAOC,IAAI,IAAI5E,YAAY,SAAS5C,UAAU,QAAQ6C,aAAcsD,EAAIpD,UAAQ,SAGlI,sBAAK/C,UAAU,yBAAf,UACI,uBAAO0C,IAAI,aAAa1C,UAAU,uBAAlC,8DACA,qBAAKA,UAAU,QAAf,SACI,uBAAOR,KAAK,aAAamD,KAAK,OAAOC,YAAY,UAAU5C,UAAU,eAG7E,sBAAKA,UAAU,yBAAf,UACI,uBAAO0C,IAAI,aAAa1C,UAAU,uBAAlC,6CACA,qBAAKA,UAAU,QAAf,SACI,uBAAOR,KAAK,aAAamD,KAAK,OAAOC,YAAY,QAAQ5C,UAAU,QAASP,MAAK,UAAK0G,EAAGE,EAAR,QAA0BvD,UAAQ,SAG3H,sBAAK9C,UAAU,iCAAf,UACI,wBAAQR,KAAK,SAASmD,KAAK,SAASK,MAAM,kBAAkBe,QAvJtD,SAACpE,GACnBA,EAAEwB,iBACF,IAAqBY,EACfoC,EAAU,CACZsD,UAAU,gMACVC,OAAQvB,EAAGwB,QAAQ,GACnBC,QAASC,mBAAmBxH,EAAM8C,KAAK9B,OACvCyG,aAAc,CACV7B,MAAO4B,mBAAmB3B,EAAaP,MACvCoC,UAAW,qBAEfC,SAAS,GAAD,QATSjG,EASQ,IAAIkG,KAAKA,KAAKC,MAAM,MAT7B,UAAQnG,EAAEoG,cAAV,YAA2BpG,EAAEqG,WAAW,GAAb,WAAoBrG,EAAEqG,YAAarG,EAAEqG,WAAhE,YAA8ErG,EAAEsG,UAAU,GAAZ,WAAmBtG,EAAEsG,WAAYtG,EAAEsG,UAAjH,iBAA8HtG,EAAEuG,WAAW,GAAb,WAAoBvG,EAAEuG,YAAavG,EAAEuG,YAAnK,OAAgLvG,EAAEwG,aAAa,GAAf,WAAsBxG,EAAEwG,cAAexG,EAAEwG,gBAUzOC,WAAW,GAAD,OAAK9J,OAAO+J,SAASC,OAArB,2BAA8CvC,EAAGwB,QAAQ,KAEhEG,EAA0B3D,EAA1B2D,aAAiBa,EAAxB,YAAiCxE,EAAjC,GACMyE,EAAM,IAAIC,gBAAJ,eAAwBF,IAC9BG,EAAG,yCAAqCF,EAAIG,WAAzC,gCAA2EjB,EAAa7B,MAAxF,oCAAyH6B,EAAaC,WAC/IrJ,OAAO+J,SAASO,KAAOF,GAsIyEhG,UAAWyD,EAA/F,oEACA,wBAAQ/G,KAAK,SAASmD,KAAK,GAAGK,MAAM,+BAA+Be,QA1E/D,SAACpE,GACjBA,EAAEwB,iBACF,IAAM8E,EAAQQ,EACdG,GAAY,GACZnI,MAAMC,OAAOC,SAAW,SAAU,CAC9B+C,OAAO,OACPC,QAAQ,CACJ,eAAe,oBAEnBC,KAAMlB,KAAKmB,UAAU,CACjBoE,MAAOA,MAEZrH,MAAK,SAAAkD,GAAC,OAAEA,EAAEhD,UAAQF,MAAK,SAAAmD,GACtB6E,GAAY,GACP7E,EAAEC,QAGAD,EAAEkH,WACDvC,GAAY,GACZC,EAAgB,CACZhB,KAAMM,EACNI,WAAYtE,EAAEsE,aAElBC,EAAcvE,EAAEsE,YACE,GAAfS,EAAOoC,QACN1C,GAAS,KAGbM,EAAO5H,KAAK,YACZ6H,EAAUD,GACVR,EAAc,GACdK,EAAgB,CAAChB,KAAK,GAAIU,WAAW,KAhBzC9B,MAAM,wCAmBXC,OAAM,SAAA7E,GAAC,OAAE4E,MAAM,sCAAD,OAAuC5E,QAwC6CmD,UAAW2D,EAApG,mGACA,qBAAKzG,UAAU,OAAf,SACI,qBAAKgD,MAAM,iBAAiBC,KAAK,SAASR,QAASsC,EAAnD,SACI,sBAAM/B,MAAM,kBAAZ,sCC9DbmG,MA5Ff,WACE,MAAgCnI,cAAhC,mBAAiBC,GAAjB,WACA,EAAuBhD,mBAASyC,KAAKC,MAAMC,aAAaC,QAAQ,UAAhE,mBAAOsC,EAAP,KAAYX,EAAZ,KACA,EAAyCvE,mBAAS,IAAlD,mBAAOuF,EAAP,KAAsBlB,EAAtB,KACA,EAAsBrE,mBAAS,GAA/B,mBAAOsH,EAAP,KAAaC,EAAb,KACA,EAAgCvH,oBAAS,GAAzC,mBAAOC,EAAP,KAAkBkL,EAAlB,KA6CA,OA3CA5K,oBAAS,sBAAC,sBAAA6K,EAAA,yDACRD,GAAa,GACTjG,EAFI,gBAGNiG,GAAa,GAHP,uCAKA3K,MAAMC,OAAOC,SAAS,WAC1B,CACI+C,OAAO,OACPC,QAAQ,CACJ,eAAe,oBAEnBC,KAAKlB,KAAKmB,UAAU,CAChB,UAAYsB,EAAKjB,UACjB,MAAQiB,EAAK9B,UAElBzC,MAAK,SAAAkD,GAAC,OAAEA,EAAEhD,UAAQF,MAAK,SAAAmD,GACpBA,EAAEC,QACJM,EAAkBnD,OAAOC,OAAOoE,EAAgBzB,EAAEQ,WAElDC,EAAQ,MACR5B,aAAa0I,WAAW,YAGzB9E,OAAM,SAAC+E,GACR/G,EAAQ,MACR5B,aAAa0I,WAAW,WAzBtB,uBA2BE7K,MAAMC,OAAOC,SAAS,WAAW,CACrC+C,OAAO,OACPC,QAAQ,CACJ,eAAe,oBAEnBC,KAAKlB,KAAKmB,UAAU,CAChB,UAAYsB,EAAKjB,UACjB,MAAQiB,EAAK9B,UAEhBzC,MAAK,SAAAkD,GAAC,OAAEA,EAAEhD,UAAQF,MAAK,SAAAmD,GACxBO,EAAkBnD,OAAOC,OAAOoE,EAAgB,CAAC,KAAOzB,EAAEwD,QAC1DC,EAAQzD,EAAEwD,SAtCR,OAwCJ6D,GAAa,GAxCT,4CA0CR,CAACjG,IACAjF,EAEC,sBAAK8B,UAAU,oCAAoCE,GAAG,aAAtD,UACI,gDACA,qBAAK8C,MAAM,yBAAyBC,KAAK,SAAS,cAAY,YAKlE,gCACE,wBAAQjD,UAAU,qBAAlB,SACE,sBAAKA,UAAU,mEAAf,UACE,cAAC,IAAD,CAAMgJ,KAAK,IAAX,SAAe,oBAAI9I,GAAG,OAAP,gCACf,cAAC,IAAD,CAAM8I,KAAK,aAAa3F,MAAO,CAACmG,WAAW,QAA3C,mGACA,cAAC,IAAD,CAAMR,KAAK,OAAO3F,MAAO,CAACmG,WAAW,QAArC,oEACA,qBAAKnG,MAAO,CAAC,WAAa,QAA1B,SACOF,EAAK,uBAAMjD,GAAG,MAAT,UAAgBsD,EAAeC,MAAM0B,UAArC,IAAiDI,EAAK,KAAK,EAA3D,IAA+DA,EAAK,IAApE,OAA4E,uBAAMlC,MAAO,CAACmG,WAAW,OAAzB,cAAkC,mBAAGR,KAAK,IAAIjF,QAAS,SAACpE,GAAKA,EAAEwB,iBAAiBP,aAAa0I,WAAW,QAASrI,EAAY,WAAYuB,EAAQ,OAA/G,4CAAlC,UAAmL,cAAC,IAAD,CAAMwG,KAAK,UAAX,mDAI/Q,+BACE,sBAAKhJ,UAAU,yCAAf,UACI,cAAC,IAAD,CAAOyJ,KAAK,YAAYC,UAAW1L,IACnC,cAAC,IAAD,CAAOyL,KAAK,aAAaC,UAAW,kBAAK,cAAC,EAAD,CAAUvG,KAAMA,EAAMK,eAAgBA,OAC/E,cAAC,IAAD,CAAOiG,KAAK,WAAWC,UAAWzF,IAClC,cAAC,IAAD,CAAOwF,KAAK,YAAZ,SAAyB,WAAK,OAAQ,cAAC,IAAD,CAAUzF,GAAG,kBACnD,cAAC,IAAD,CAAOyF,KAAK,gBAAZ,SAA6B,SAACE,GAAK,OAAQ,cAAC,EAAD,CAAUzJ,GAAIyJ,EAAEzJ,GAAIiD,KAAMA,EAAMK,eAAgBA,EAAgB+B,KAAMA,EAAMC,QAASA,OAChI,cAAC,IAAD,CAAOiE,KAAK,UAAUC,UAAW,kBAAK,cAAC,EAAD,CAAQlH,QAASA,EAASF,kBAAmBA,OACnF,cAAC,IAAD,CAAOmH,KAAK,aAAaC,UAAWjE,IACpC,cAAC,IAAD,CAAOgE,KAAK,OAAOC,UAAW,kBAAI,cAAC,EAAD,CAASvG,KAAMA,YAGvD,wBAAQnD,UAAU,sBAAlB,SACE,sBAAKA,UAAU,yDAAf,gBACK,mBAAGgJ,KAAK,4BAA4BpJ,OAAO,SAASI,UAAU,aAAaqD,MAAO,CAACuG,eAAe,YAAa1E,MAAM,WAArH,iCCtFA2E,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBnL,MAAK,YAAkD,IAA/CoL,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdpL,OAAOC,SAAW,6CAElB0L,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.3f9accf1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, {useEffect, useState} from 'react';\r\n\r\nfunction Testlist(){\r\n    const [isLoading, setLoading] = useState(true);\r\n\r\n    const [testlist, setTestlist] = useState({});\r\n    const [selectVal, setSelectVal] = useState(0);\r\n\r\n    useEffect(()=>{\r\n        fetch(window.API_LINK+'/gettestlist').then(res=>res.json()).then(data=>{\r\n            let newTestlist = Array.from(testlist).push(data);\r\n           setTestlist(Object.assign(testlist, data));\r\n           setLoading(false);\r\n        })\r\n        console.log(testlist);\r\n    },[])\r\n\r\n    if(isLoading){\r\n        return(\r\n            <div>\r\n                Loading data from server...\r\n            </div>\r\n        );\r\n    } else {\r\n        return (\r\n            <div>\r\n                <strong>Choose your grade: </strong>\r\n                <select classList=\"p-0\" name=\"grade\" value={selectVal} onChange={e=>setSelectVal(e.target.value)}>\r\n                    <option value=\"0\">-</option>\r\n                    {Object.keys(testlist).map((grade)=>{\r\n                        return(\r\n                            <option value={grade}>{grade}</option>\r\n                        );\r\n                    })}\r\n                </select>\r\n                {selectVal!=0 && \r\n                <div className=\"container-fluid mt-3 px-0\">\r\n                        {testlist[selectVal].map((item)=>{\r\n                            console.log(item)\r\n                            return(\r\n                                <div className=\"row mt-2\">\r\n                                    <div className=\"col-sm-12 col-md-6\">\r\n                                        <div className=\"border rounded p-1\">\r\n                                        <strong>{item.name}</strong> <br/>\r\n                                        <strong>Id:</strong> {item.id} <br/>\r\n                                        <strong>Score:</strong> {item.stats} <br/>\r\n                                        <button className=\"btn btn-success py-0 px-2 m-0\">GET IT DONE!!!</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                </div>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Testlist;","import React, {useState, useEffect} from \"react\";\r\nimport useLocation from \"wouter/use-location\";\r\n\r\nfunction Signin(props){\r\n    const [toggleblock, settoggleblock] = useState(false);\r\n    const [nosuccess, setnosuccess] = useState(false);\r\n    const [savedcreds, setsavedcreds] = useState(JSON.parse(localStorage.getItem('credentials')));\r\n    const [location, setLocation] = useLocation();\r\n\r\n    function signin(e){\r\n        e.preventDefault();\r\n        let form = e.target;\r\n        settoggleblock(true);\r\n        let login = form.elements.inputLogin.value;\r\n        let pass = form.elements.inputPass.value;\r\n        fetch(window.API_LINK+\"/signin\", {\r\n            method:\"POST\",\r\n            headers:{\r\n                'content-type':'application/json'\r\n            },\r\n            body:JSON.stringify({\r\n                \"pupil\":{\r\n                    \"login\":login,\r\n                    \"pass\":pass\r\n                }\r\n            })\r\n        }).then(r=>r.json()).then(d=>{\r\n            if (d.success){\r\n                setnosuccess(false);\r\n                let storageData = {\r\n                    \"login\":login,\r\n                    \"pass\":pass,\r\n                    \"PHPSESSID\":d.PHPSESSID\r\n                }\r\n                fetch(window.API_LINK+'/getdata',\r\n                {\r\n                    method:\"post\",\r\n                    headers:{\r\n                        'content-type':'application/json'\r\n                    },\r\n                    body:JSON.stringify({\r\n                        \"PHPSESSID\":storageData.PHPSESSID,\r\n                        \"login\":storageData.login\r\n                    })\r\n                }).then(r=>r.json()).then(d=>{\r\n                    if (d.success){ \r\n                        if(form.elements.save.checked){\r\n                            savedcreds?localStorage.setItem('credentials',JSON.stringify([login, pass])):localStorage.setItem('credentials',JSON.stringify([login, pass]));\r\n                            setsavedcreds(JSON.parse(localStorage.getItem('credentials')));\r\n                        }\r\n                        props.setAdditionalData(Object.assign(d.backend));\r\n                        localStorage.setItem('user',JSON.stringify(storageData));\r\n                        props.setuser(storageData);\r\n                        settoggleblock(false);\r\n                        setLocation('/');\r\n                    } else {\r\n                        setnosuccess(true);\r\n                        settoggleblock(false); \r\n                    }\r\n                })\r\n\r\n            } else {\r\n                setnosuccess(true);\r\n                settoggleblock(false);  \r\n            }\r\n        })\r\n    }\r\n    \r\n    return(\r\n        <div className=\"col-12 col-md-5 rounded mx-auto mt-5 border rounded-0\">\r\n            <div className=\"border-bottom mb-1 px-3 pt-2 bg-light\">\r\n                <h5>Вход</h5>\r\n            </div>\r\n            <form onSubmit={signin} className=\"px-3 py-2\">\r\n                <div className=\"row text-danger mb-2\" hidden={!nosuccess}>\r\n                    <div className=\"col-sm-12\">\r\n                        Неверный логин/пароль\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <label for=\"inputLogin\" className=\"col-4 col-form-label\">Логин</label>\r\n                    <div className=\"col-8\">\r\n                        <input name=\"inputLogin\" type=\"text\" placeholder=\"2281488\" className=\"w-100\" defaultValue={savedcreds&&savedcreds[0]} disabled={toggleblock} required/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <label for=\"inputPass\" className=\"col-4 col-form-label\">Пароль</label>\r\n                    <div className=\"col-8\">\r\n                        <input name=\"inputPass\" type=\"text\" placeholder=\"3ad6\" className=\"w-100\" defaultValue={savedcreds&&savedcreds[1]} disabled={toggleblock} required/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-4\">\r\n                    </div>\r\n                    <div className=\"col-8\">\r\n                        <div className=\"form-check\">\r\n                            <input class=\"form-check-input\" type=\"checkbox\" name=\"save\" value/>\r\n                            <label class=\"form-check-label\" for=\"save\">\r\n                                Сохранить реквизиты\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"d-flex align-items-center mt-2\">\r\n                    <button name=\"submit\" type=\"submit\" class=\"btn btn-primary\" disabled={toggleblock}>Войти</button>\r\n                    <div className=\"mx-3\" hidden={!toggleblock}>\r\n                        <div class=\"spinner-border\" role=\"status\">\r\n                            <span class=\"visually-hidden\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signin;","import React, {useEffect, useState} from 'react';\r\nimport { Redirect, useLocation, useRoute } from 'wouter';\r\n\r\nfunction Usertest(props){\r\n    const [location, setLocation] = useLocation();\r\n    const [show, setshow] = useState(props.user&&true);\r\n\r\n    if(show){\r\n        return(\r\n            <div style={{height:\"80vh\"}}>\r\n                {/* <div className=\"container-fluid mt-3 px-0\">\r\n                        {props.additionalData.pupil.tests.map((item)=>{\r\n                            console.log(item)\r\n                            return(\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-sm-12 col-md-6\">\r\n                                        <div className=\"border-bottom rounded-0 p-2 py-4\">\r\n                                        <strong>{item.test.title}</strong> <br/>\r\n                                        <strong>Id:</strong> {item.test.fakeId} <br/>\r\n                                        {\r\n                                            item.compliteCount==0?\r\n                                                <button className=\"btn btn-outline-success py-0 px-2 m-0 rounded-0 w-50 mt-1\" onClick={()=>setLocation(`/purchase/${item.test.fakeId}`)}>Purchase test</button>\r\n                                                :\r\n                                                <button className=\"btn btn-outline-secondary py-0 px-2 m-0 rounded-0 w-50 mt-1\" disabled={true}>Completed</button>\r\n\r\n                                        }\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                </div> */}\r\n                <div className=\"col-12 overflow-auto mt-2\" style={{maxHeight:\"100%\"}}>\r\n                {props.additionalData.pupil.tests.map((item)=>{\r\n                            console.log(item)\r\n                            return(\r\n                                <div className=\"\">\r\n                                    <div className=\"col-12\">\r\n                                        <div className=\"border-bottom rounded-0 p-2 pt-1 py-3\">\r\n                                        <strong>{item.test.title}</strong> <br/>\r\n                                        <strong>Id:</strong> {item.test.fakeId} <br/>\r\n                                        {\r\n                                            item.compliteCount==0?\r\n                                                <button className=\"btn btn-outline-success py-0 px-2 m-0 rounded-0 w-50 mt-1\" onClick={()=>setLocation(`/purchase/${item.test.fakeId}`)}>Purchase test</button>\r\n                                                :\r\n                                                <button className=\"btn btn-outline-secondary py-0 px-2 m-0 rounded-0 w-50 mt-1\" disabled={true}>Completed</button>\r\n\r\n                                        }\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                </div>\r\n            </div>\r\n        )\r\n    } else {\r\n        return(\r\n            <div>\r\n                <Redirect to=\"/signin\"/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Usertest;","function Addtest(){\r\n    function send(e){\r\n        e.preventDefault();\r\n        let f= e.target;\r\n        let payload = {\r\n            \"pass\": f.elements.pass.value,\r\n            \"id\": f.elements.id.value,\r\n            \"answers\": f.elements.answers.value,\r\n            \"questions\": f.elements.questions.value,\r\n            \"price\": f.elements.price.value\r\n        }\r\n\r\n        fetch (window.API_LINK + '/addtest', {\r\n            method: \"POST\",\r\n            headers:{\r\n                \"content-type\":\"application/json\"\r\n            },\r\n            body: JSON.stringify(payload)\r\n        }).then(r=>r.json()).then(d=>{d.success?alert('OK'):alert('something WENT VERY WRONG')}).catch(e=>alert(`err: ${e}`));\r\n    }\r\n    return(\r\n        <div>\r\n            <form onSubmit={send}>\r\n            <input type=\"text\" placeholder=\"pass\" name=\"pass\"></input> <br/>\r\n            <input type=\"text\" placeholder=\"test id\" name=\"id\"></input> <br/>\r\n            <input type=\"text\" placeholder=\"answers\" name=\"answers\"></input> <br/>\r\n            <input type=\"text\" placeholder=\"questions\" name=\"questions\"></input> <br/>\r\n            <input type=\"text\" placeholder=\"price (В КОПЕЙКАХ РУБЛИ*100)\" name=\"price\"></input> <br/>\r\n            <button>send</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Addtest;","import React, {useState, useEffect} from \"react\";\r\nimport { Redirect, useLocation } from \"wouter\";\r\n\r\nfunction Purchase(props){\r\n    const [redir, setredir] = useState(props.user&&true);\r\n    const [show, setshow] = useState(false);\r\n    const [test, setTest] = useState(false);\r\n    const [nomoney, setnomoney] = useState(false);\r\n    const [handling, sethandling] = useState(false);\r\n    const [location, setLocation] = useLocation();\r\n    function handlePayment(e){\r\n        if(test>props.additionalData.cash){\r\n            setnomoney(true);\r\n        } else {\r\n            sethandling(true);\r\n            fetch(window.API_LINK + '/purchasetest', {\r\n                method:'POST',\r\n                headers:{\r\n                    'content-type':'application/json'\r\n                },\r\n                body:JSON.stringify({\r\n                    login:props.user.login,\r\n                    pass: props.user.pass,\r\n                    test: props.id\r\n                })\r\n            }).then(r=>r.json()).then(d=>{\r\n                if(d.success){\r\n                    props.setcash(props.cash-test);\r\n                    setLocation('/afterlife');\r\n                } else {\r\n                    sethandling(false);\r\n                    alert('Unsucessful; try again; contact developers if necessary');\r\n                }\r\n            })\r\n        }\r\n    }\r\n    useEffect(()=>{\r\n        fetch(window.API_LINK + '/test', {\r\n            method:'POST',\r\n            headers:{\r\n                'content-type':'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                id: props.id\r\n            })\r\n        }).then(r=>r.json()).then(d=>{\r\n                if(d.success){\r\n                    if(d.exists){\r\n                        setTest(d.exists);\r\n                        setshow(true);\r\n                    } else {\r\n                        setshow(true);\r\n                    }\r\n                } else {\r\n                    alert('ERROR; reload the page');\r\n                }\r\n            })\r\n    },[])\r\n    if(!redir){\r\n        return <Redirect to=\"/signin\" />\r\n    } else if(show){\r\n        if(!test){\r\n            return (\r\n            <div>\r\n                <div className=\"col-12 mt-2\">\r\n                    <p><strong>Account: </strong>{props.additionalData.pupil.firstname} {props.additionalData.pupil.lastname}</p>\r\n                    <p><strong>Test: </strong>{props.additionalData.pupil.tests.find(i=>i.test.fakeId==props.id).test.title}</p>\r\n                    <p><strong>Unfortunately, the test is not in database yet. Come back later!</strong></p>\r\n                </div>\r\n            </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div>\r\n                    <div className=\"col-12 mt-2\">\r\n                        <span color=\"red\" hidden={!nomoney}><strong>You don't have enough money!</strong></span>\r\n                        <p><strong>Account: </strong>{props.additionalData.pupil.firstname} {props.additionalData.pupil.lastname}</p>\r\n                        <p><strong>Test: </strong>{props.additionalData.pupil.tests.find(i=>i.test.fakeId==props.id).test.title}</p>\r\n                        <p><strong>Balance: </strong>{props.cash/100>>0}.{props.cash%100} RUR</p>\r\n                        <p><strong>Price: </strong>{test/100>>0}.{test%100} RUR</p>\r\n                        <div className=\"d-flex align-items-center mt-2\">\r\n                            <button className=\"btn btn-success rounded-0 py-1 px-3 w-50 h-100 d-block\" disabled={props.additionalData.cash<test} disabled={handling} onClick={handlePayment}>Confirm order</button>\r\n                            <div className=\"mx-3\" hidden={!handling}>\r\n                                <div class=\"spinner-border\" role=\"status\">\r\n                                    <span class=\"visually-hidden\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    } else {\r\n        return (<div>Fetching some data...</div>)\r\n    }\r\n}\r\n\r\nexport default Purchase;","\r\nfunction Afterlife(){\r\n    return (\r\n        <div>\r\n            <h4 className=\"mt-2\">\r\n                Спасибо за покупку!\r\n            </h4>\r\n            <h5 className=\"text-danger\">Внимание!</h5>\r\n            <p>\r\n                Ответы были вбиты; теперь Вам остается лишь подождать определенное время (например минут 7, чтобы учитель ничего не заподозрил), войти в свой аккаунт на сайте videouroki.net и нажать \"Продолжить\" на заказанном тесте. Тест будет уже выполнен либо будут вбиты ответы, и Вам останется лишь завершить тест.\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Afterlife;","import { useState,useRef } from \"react\"\r\nconst errorsList = {\r\n    \"nan\":{\r\n        text:\"Введённая сумма должна быть числом!\",\r\n    },\r\n    \"empty\":{\r\n        text:\"Введите сумму!\",\r\n    },\r\n    \"badPromo\":{\r\n        text:\"Промокод не существует\",\r\n    }\r\n}\r\nfunction Payment(props){\r\n    const handlePayment = (e)=>{\r\n        e.preventDefault();\r\n        const dateHandler = (d)=>`${d.getFullYear()}-${d.getMonth()<10?`0${d.getMonth()}`:d.getMonth()}-${d.getDate()<10?`0${d.getDate()}`:d.getDate()}Т${d.getHours()<10?`0${d.getHours()}`:d.getHours()}${d.getMinutes()<10?`0${d.getMinutes()}`:d.getMinutes()}`\r\n        const payload = {\r\n            publicKey:\"48e7qUxn9T7RyYE1MVZswX1FRSbE6iyCj2gCRwwF3Dnh5XrasNTx3BGPiMsyXQFNKQhvukniQG8RTVhYm3iPv6GW1dNY2axMhQYJVgqd3ZZWtm2qa9DTWve4GtjW1NwUBCZm7u6TuSmpuUdjE5hyJNKrwVJt8mQbJGtX2j8LoPmvL9M7uRdj4pwWtUVDp\",\r\n            amount: ui.toFixed(2),\r\n            account: encodeURIComponent(props.user.login),\r\n            customFields: {\r\n                promo: encodeURIComponent(checkedPromo.text),\r\n                themeCode: \"Andrei-LLlD4scgVW\"\r\n            },\r\n            lifetime: `${dateHandler(new Date(Date.now()+25*60e3))}`,\r\n            successUrl: `${window.location.origin}/success?amount=${ui.toFixed(2)}`\r\n        }\r\n        const {customFields, ...restP} = payload;\r\n        const qsp = new URLSearchParams({...restP});\r\n        const url = `https://oplata.qiwi.com/create?${qsp.toString()}&customFields[promo]=${customFields.promo}&customFields[themeCode]=${customFields.themeCode}`;\r\n        window.location.href = url;\r\n    }\r\n    const handleForm = (e)=>{\r\n        var errors = [];\r\n        const ui = form.current.elements.inputSum.value;\r\n        const promo = form.current.elements.inputPromo.value;\r\n\r\n        const uiStatus = handleUi(ui);\r\n        const promoStatus = promoEvent(promo);\r\n        switch (uiStatus){\r\n            case 0:\r\n                setUi(parseFloat(ui));\r\n                break;\r\n            case 1:\r\n                errors.push(\"empty\");\r\n                setUi(0);\r\n                break;\r\n            case 2:\r\n                errors.push(\"nan\");\r\n                setUi(0);\r\n                break;\r\n            case 3:\r\n                errors.push(\"empty\");\r\n                setUi(0);\r\n                break;\r\n        }\r\n        switch(promoStatus){\r\n            case 0:\r\n                setMultiplier(checkedPromo.multiplier);\r\n                setNewPromo(false);\r\n                break;\r\n            case 1:\r\n                setMultiplier(1.0);\r\n                setNewPromo(promo)\r\n                break;\r\n        }\r\n        if(uiStatus===0 && promoStatus===0){\r\n            setReady(true);\r\n        } else {\r\n            setReady(false);\r\n        }\r\n        setErrors(errors);\r\n    }\r\n    const handleUi = (i)=>{\r\n        if(isNaN(i)){\r\n            return 2;\r\n        } else if (i==\"\"){\r\n            return 1;\r\n        } else if (parseFloat(i)==0){\r\n            return 3;\r\n        }  else {\r\n            return 0;\r\n        }\r\n    }\r\n    const promoEvent = (promo)=>{\r\n        if (promo==checkedPromo.text){\r\n            return 0;\r\n        } else {\r\n            return 1;\r\n        }\r\n    }\r\n    const handlePromo = (e)=>{\r\n        e.preventDefault();\r\n        const promo = newPromo;\r\n        setHandling(true);\r\n        fetch(window.API_LINK + '/promo', {\r\n            method:'POST',\r\n            headers:{\r\n                'content-type':'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                promo: promo\r\n            })\r\n        }).then(r=>r.json()).then(d=>{\r\n            setHandling(false);\r\n            if (!d.success){\r\n                alert('Something bad happened; try again')\r\n            } else {\r\n                if(d.goodPromo){\r\n                    setNewPromo(false);\r\n                    setCheckedPromo({\r\n                        text: promo,\r\n                        multiplier: d.multiplier\r\n                    })\r\n                    setMultiplier(d.multiplier);\r\n                    if(errors.length==0){\r\n                        setReady(true);\r\n                    }\r\n                } else {\r\n                    errors.push(\"badPromo\")\r\n                    setErrors(errors);\r\n                    setMultiplier(1.0);\r\n                    setCheckedPromo({text:\"\", multiplier:1.0});\r\n                }\r\n            }\r\n        }).catch(e=>alert(`Something bad happened, try again; ${e}`))\r\n    }\r\n    const [ui, setUi] = useState(150);\r\n    const [multiplier, setMultiplier] = useState(1.0);\r\n    const [ready, setReady] = useState(true);\r\n    const [newPromo, setNewPromo] = useState(false);\r\n    const [checkedPromo, setCheckedPromo] = useState({text:\"\", multiplier:1.0});\r\n    const [handling, setHandling] = useState(false);\r\n    const form = useRef(null);\r\n    var [errors, setErrors]  = useState([]);\r\n\r\n    return (\r\n        <div className=\"col-12 col-md-5 mx-auto mt-5 border\">  \r\n            <div className=\"border-bottom mb-1 px-3 pt-2 bg-light\">\r\n                <h5>Пополнить счёт</h5>\r\n            </div>\r\n            <form  className=\"px-3 py-2\" ref={form} onSubmit={(e)=>{e.preventDefault()}} onChange={handleForm}>\r\n                {\r\n                    errors.map((key)=><div className=\"row text-danger mb-1\"><div className=\"col-12\">{errorsList[key].text}</div></div>)\r\n                }\r\n                <div className=\"row align-items-center\">\r\n                    <label for=\"inputSum\" className=\"col-4 col-form-label\">Сумма*</label>\r\n                    <div className=\"col-8\">\r\n                        <input name=\"inputSum\" type=\"number\" step=\"15.0\" min=\"0\" placeholder=\"150.00\" className=\"w-100\" defaultValue={ui} required/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row align-items-center\">\r\n                    <label for=\"inputPromo\" className=\"col-4 col-form-label\">Промокод</label>\r\n                    <div className=\"col-8\">\r\n                        <input name=\"inputPromo\" type=\"text\" placeholder=\"AMOGA25\" className=\"w-100\"/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row align-items-center\">\r\n                    <label for=\"inputTotal\" className=\"col-4 col-form-label\">Итого:</label>\r\n                    <div className=\"col-8\">\r\n                        <input name=\"inputTotal\" type=\"text\" placeholder=\"123.0\" className=\"w-100\"  value={`${ui*multiplier} RUR`} disabled/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"d-flex align-items-center mt-2\">\r\n                    <button name=\"submit\" type=\"submit\" class=\"btn btn-primary\" onClick={handlePayment} disabled={!ready}>Пополнить</button>\r\n                    <button name=\"submit\" type=\"\" class=\"btn btn-outline-primary ms-2\" onClick={handlePromo} disabled={!newPromo}>Проверить промо</button>\r\n                    <div className=\"mx-3\" >\r\n                        <div class=\"spinner-border\" role=\"status\" hidden={!handling}>\r\n                            <span class=\"visually-hidden\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Payment;","import logo from './logo.svg';\r\nimport './App.css';\r\n\r\nimport { Link, Route, Redirect, useLocation } from \"wouter\";\r\nimport React, {useEffect, useState} from 'react';\r\n\r\nimport Testlist from './components/Testlist';\r\nimport Signin from './components/Signin';\r\nimport Usertest from './components/Usertest';\r\nimport Addtest from './components/Addtest';\r\nimport Purchase from './components/Purchase';\r\nimport Afterlife from './components/Afterlife';\r\nimport Payment from './components/Payment';\r\n\r\nfunction App() {\r\n  const [location, setLocation] = useLocation();\r\n  const [user,setuser] = useState(JSON.parse(localStorage.getItem('user')));\r\n  const [additionalData,setAdditionalData]=useState({});\r\n  const [cash, setcash]=useState(0);\r\n  const [isLoading, setIsLoading]=useState(true);\r\n\r\n  useEffect(async ()=>{\r\n    setIsLoading(true);\r\n    if(!user){\r\n      setIsLoading(false);\r\n    } else {\r\n      await fetch(window.API_LINK+'/getdata',\r\n        {\r\n            method:\"post\",\r\n            headers:{\r\n                'content-type':'application/json'\r\n            },\r\n            body:JSON.stringify({\r\n                \"PHPSESSID\":user.PHPSESSID,\r\n                \"login\":user.login\r\n            })\r\n        }).then(r=>r.json()).then(d=>{\r\n          if (d.success){\r\n            setAdditionalData(Object.assign(additionalData, d.backend));\r\n          } else {\r\n            setuser(null);\r\n            localStorage.removeItem('user');\r\n          }\r\n            \r\n        }).catch((err)=>{\r\n          setuser(null);\r\n          localStorage.removeItem('user');\r\n        })\r\n        await fetch(window.API_LINK+'/getcash',{\r\n          method:\"post\",\r\n          headers:{\r\n              'content-type':'application/json'\r\n          },\r\n          body:JSON.stringify({\r\n              \"PHPSESSID\":user.PHPSESSID,\r\n              \"login\":user.login\r\n          })\r\n        }).then(r=>r.json()).then(d=>{\r\n          setAdditionalData(Object.assign(additionalData, {'cash':d.cash}));\r\n          setcash(d.cash);\r\n        })\r\n        setIsLoading(false);\r\n    }\r\n  },[user])\r\n  if(isLoading){\r\n    return (\r\n      <div className=\"d-flex mx-auto align-items-center\" id=\"loadscreen\">\r\n          <strong>Loading...</strong>\r\n          <div class=\"spinner-border ms-auto\" role=\"status\" aria-hidden=\"true\"></div>\r\n      </div>\r\n    )\r\n  } else {\r\n    return (\r\n      <div>\r\n        <header className=\"mt-2 border-bottom\">\r\n          <div className=\"col-12 col-md-10 col-lg-8 d-flex align-items-center mx-auto px-2\">\r\n            <Link href=\"/\"><h4 id=\"logo\">TestiKupitOnlain</h4></Link>\r\n            <Link href=\"/usertests\" style={{marginLeft:\"30px\"}}>Доступные тесты</Link>\r\n            <Link href=\"/pay\" style={{marginLeft:\"30px\"}}>Пополнить</Link>\r\n            <div style={{\"marginLeft\":\"auto\"}}>\r\n                  {user?<span id=\"acc\">{additionalData.pupil.firstname} {cash/100>>0}.{cash%100} RUR<span style={{marginLeft:\"8px\"}}>(<a href=\"#\" onClick={(e)=>{e.preventDefault();localStorage.removeItem('user'); setLocation('/signin'); setuser(null);}}>Выйти</a>)</span></span>:<Link href=\"/signin\">Войти</Link>}\r\n            </div>\r\n          </div>\r\n        </header> \r\n        <main>\r\n          <div className=\"col-12 col-md-10 col-lg-8 mx-auto px-2\">\r\n              <Route path=\"/testlist\" component={Testlist} />\r\n              <Route path=\"/usertests\" component={()=> <Usertest user={user} additionalData={additionalData}/>} />\r\n              <Route path=\"/addtest\" component={Addtest}/>\r\n              <Route path=\"/purchase\">{()=>{return (<Redirect to=\"/usertests\"/>)}}</Route>\r\n              <Route path=\"/purchase/:id\">{(p)=>{return (<Purchase id={p.id} user={user} additionalData={additionalData} cash={cash} setcash={setcash}/>)}}</Route>\r\n              <Route path=\"/signin\" component={()=> <Signin setuser={setuser} setAdditionalData={setAdditionalData}/>} />\r\n              <Route path=\"/afterlife\" component={Afterlife} />\r\n              <Route path=\"/pay\" component={()=><Payment user={user} />} />\r\n          </div>\r\n        </main>\r\n        <footer className=\"border-top bg-light\">\r\n          <div className=\"col-12 col-md-10 col-lg-8 mx-auto text-black py-2 px-2\">\r\n            By <a href=\"https://vk.com/gluchnosti\" target=\"_blank\" className=\"text-black\" style={{textDecoration:\"underline\", color:\"#AAAAAA\"}}>gluchnosti</a>\r\n          </div>\r\n        </footer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nwindow.API_LINK = 'https://tests.toolstools.herokuapp.com/api';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}