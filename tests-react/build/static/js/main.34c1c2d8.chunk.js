(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{19:function(e,t,c){},22:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(11),i=c.n(a),r=c(3),l=(c(19),c(10)),o=c.n(l),j=c(12),d=c(2),b=c(0);var u=function(){var e=Object(s.useState)(!0),t=Object(d.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)({}),i=Object(d.a)(a,2),r=i[0],l=i[1],o=Object(s.useState)(0),j=Object(d.a)(o,2),u=j[0],h=j[1];return Object(s.useEffect)((function(){fetch(window.API_LINK+"/gettestlist").then((function(e){return e.json()})).then((function(e){Array.from(r).push(e);l(Object.assign(r,e)),n(!1)})),console.log(r)}),[]),c?Object(b.jsx)("div",{children:"Loading data from server..."}):Object(b.jsxs)("div",{children:[Object(b.jsx)("strong",{children:"Choose your grade: "}),Object(b.jsxs)("select",{classList:"p-0",name:"grade",value:u,onChange:function(e){return h(e.target.value)},children:[Object(b.jsx)("option",{value:"0",children:"-"}),Object.keys(r).map((function(e){return Object(b.jsx)("option",{value:e,children:e})}))]}),0!=u&&Object(b.jsx)("div",{className:"container-fluid mt-3 px-0",children:r[u].map((function(e){return console.log(e),Object(b.jsx)("div",{className:"row mt-2",children:Object(b.jsx)("div",{className:"col-sm-12 col-md-6",children:Object(b.jsxs)("div",{className:"border rounded p-1",children:[Object(b.jsx)("strong",{children:e.name})," ",Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"Id:"})," ",e.id," ",Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"Score:"})," ",e.stats," ",Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:"btn btn-success py-0 px-2 m-0",children:"GET IT DONE!!!"})]})})})}))})]})},h=c(8);var m=function(e){var t=Object(s.useState)(!1),c=Object(d.a)(t,2),n=c[0],a=c[1],i=Object(s.useState)(!1),l=Object(d.a)(i,2),o=l[0],j=l[1],u=Object(s.useState)(JSON.parse(localStorage.getItem("credentials"))),m=Object(d.a)(u,2),O=m[0],x=m[1],p=Object(h.a)(),f=Object(d.a)(p,2),g=(f[0],f[1],Object(s.useState)(!1)),v=Object(d.a)(g,2),N=v[0],y=v[1];return Object(b.jsxs)("div",{className:"col-12 col-md-5 rounded mx-auto mt-5 border rounded-0",children:[N&&Object(b.jsx)(r.b,{to:"/"}),Object(b.jsx)("div",{className:"border-bottom mb-1 px-3 pt-2 bg-light",children:Object(b.jsx)("h5",{children:"\u0412\u0445\u043e\u0434"})}),Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault();var c=t.target;a(!0);var s=c.elements.inputLogin.value,n=c.elements.inputPass.value;fetch(window.API_LINK+"/signin",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({pupil:{login:s,pass:n}})}).then((function(e){return e.json()})).then((function(t){if(t.success){j(!1);var i={login:s,pass:n,PHPSESSID:t.PHPSESSID};fetch(window.API_LINK+"/getdata",{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({PHPSESSID:i.PHPSESSID,login:i.login})}).then((function(e){return e.json()})).then((function(t){t.success?(c.elements.save.checked&&(localStorage.setItem("credentials",JSON.stringify([s,n])),x(JSON.parse(localStorage.getItem("credentials")))),y(!0),e.setAdditionalData(Object.assign(t.backend)),localStorage.setItem("user",JSON.stringify(i)),e.setuser(i),a(!1)):(j(!0),a(!1))}))}else j(!0),a(!1)}))},className:"px-3 py-2",children:[Object(b.jsx)("div",{className:"row text-danger mb-2",hidden:!o,children:Object(b.jsx)("div",{className:"col-sm-12",children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d/\u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("label",{for:"inputLogin",className:"col-4 col-form-label",children:"\u041b\u043e\u0433\u0438\u043d"}),Object(b.jsx)("div",{className:"col-8",children:Object(b.jsx)("input",{name:"inputLogin",type:"text",placeholder:"2281488",className:"w-100",defaultValue:O&&O[0],disabled:n,required:!0})})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("label",{for:"inputPass",className:"col-4 col-form-label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(b.jsx)("div",{className:"col-8",children:Object(b.jsx)("input",{name:"inputPass",type:"text",placeholder:"3ad6",className:"w-100",defaultValue:O&&O[1],disabled:n,required:!0})})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-4"}),Object(b.jsx)("div",{className:"col-8",children:Object(b.jsxs)("div",{className:"form-check",children:[Object(b.jsx)("input",{class:"form-check-input",type:"checkbox",name:"save",value:!0}),Object(b.jsx)("label",{class:"form-check-label",for:"save",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b"})]})})]}),Object(b.jsxs)("div",{className:"d-flex align-items-center mt-2",children:[Object(b.jsx)("button",{name:"submit",type:"submit",class:"btn btn-primary",disabled:n,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(b.jsx)("div",{className:"mx-3",hidden:!n,children:Object(b.jsx)("div",{class:"spinner-border",role:"status",children:Object(b.jsx)("span",{class:"visually-hidden",children:"Loading..."})})})]})]})]})};var O=function(e){var t=Object(r.f)(),c=Object(d.a)(t,2),n=(c[0],c[1]),a=Object(s.useState)(e.user&&!0),i=Object(d.a)(a,2),l=i[0];return i[1],l?Object(b.jsx)("div",{style:{height:"80vh"},children:Object(b.jsx)("div",{className:"col-12 overflow-auto mt-2",style:{maxHeight:"100%"},children:e.additionalData.pupil.tests.map((function(e){return console.log(e),null!==e.incomplite?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("div",{className:"border-bottom rounded-0 p-2 pt-1 py-3",children:[Object(b.jsx)("strong",{children:e.test.title})," ",Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"Id:"})," ",e.test.fakeId," ",Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:"btn btn-warning py-0 m-0 rounded-0 w-50 mt-1",disabled:!0,children:"\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f"})]})})}):0==e.compliteCount?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("div",{className:"border-bottom rounded-0 p-2 pt-1 py-3",children:[Object(b.jsx)("strong",{children:e.test.title})," ",Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"Id:"})," ",e.test.fakeId," ",Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:"btn btn-success py-0 px-2 m-0 rounded-0 w-50 mt-1",onClick:function(){return n("/purchase/".concat(e.test.fakeId))},children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"})]})})}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("div",{className:"border-bottom rounded-0 p-2 pt-1 py-3",children:[Object(b.jsx)("strong",{children:e.test.title})," ",Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"Id:"})," ",e.test.fakeId," ",Object(b.jsx)("br",{}),Object(b.jsx)("a",{href:"https://videouroki.net/tests/complete/".concat(e.lastMemberId),target:"_blank",children:"\u0423\u0437\u043d\u0430\u0442\u044c \u043e\u0446\u0435\u043d\u043a\u0443"})," ",Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:"btn btn-dark py-0 px-2 m-0 rounded-0 w-50 mt-1",disabled:!0,children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"})]})})})}))})}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(r.b,{to:"/signin"})})};var x=function(){return Object(b.jsx)("div",{children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target,c={pass:t.elements.pass.value,id:t.elements.id.value,answers:t.elements.answers.value,questions:t.elements.questions.value,price:t.elements.price.value};fetch(window.API_LINK+"/addtest",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){e.success?alert("OK"):alert("something WENT VERY WRONG")})).catch((function(e){return alert("err: ".concat(e))}))},children:[Object(b.jsx)("input",{type:"text",placeholder:"pass",name:"pass"})," ",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"text",placeholder:"test id",name:"id"})," ",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"text",placeholder:"answers",name:"answers"})," ",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"text",placeholder:"questions",name:"questions"})," ",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"text",placeholder:"price (\u0412 \u041a\u041e\u041f\u0415\u0419\u041a\u0410\u0425 \u0420\u0423\u0411\u041b\u0418*100)",name:"price"})," ",Object(b.jsx)("br",{}),Object(b.jsx)("button",{children:"send"})]})})},p=c(6);var f=function(e){var t,c=Object(s.useState)(e.user&&!0),n=Object(d.a)(c,2),a=n[0],i=(n[1],Object(s.useState)(!1)),l=Object(d.a)(i,2),o=l[0],j=l[1],u=Object(s.useState)(!1),h=Object(d.a)(u,2),m=h[0],O=h[1],x=Object(s.useState)(!1),f=Object(d.a)(x,2),g=f[0],v=f[1],N=Object(s.useState)(!1),y=Object(d.a)(N,2),S=y[0],w=y[1],I=Object(r.f)(),P=Object(d.a)(I,2);return P[0],P[1],Object(s.useEffect)((function(){fetch(window.API_LINK+"/test",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({id:e.id})}).then((function(e){return e.json()})).then((function(e){e.success?e.exists?(O(e.exists),j(!0)):j(!0):alert("ERROR; reload the page")}))}),[]),a?o?m?Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"col-12 mt-2",children:[Object(b.jsx)("span",{color:"red",hidden:!g,children:Object(b.jsx)("strong",{children:"You don't have enough money!"})}),Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:"Account: "}),e.additionalData.pupil.firstname," ",e.additionalData.pupil.lastname]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:"Test: "}),e.additionalData.pupil.tests.find((function(t){return t.test.fakeId==e.id})).test.title]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:"Balance: "}),e.cash/100>>0,".",e.cash%100," RUR"]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:"Price: "}),m/100>>0,".",m%100," RUR"]}),Object(b.jsxs)("div",{className:"d-flex align-items-center mt-2",children:[Object(b.jsx)("button",(t={className:"btn btn-success rounded-0 py-1 px-3 w-50 h-100 d-block",disabled:e.additionalData.cash<m},Object(p.a)(t,"disabled",S),Object(p.a)(t,"onClick",(function(t){m>e.additionalData.cash?v(!0):(w(!0),fetch(window.API_LINK+"/purchasetest",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({login:e.user.login,pass:e.user.pass,test:e.id})}).then((function(e){return e.json()})).then((function(t){t.success?(e.setcash(e.cash-m),window.location.href="".concat(window.location.origin,"/tests/afterlife")):(w(!1),alert("Unsucessful; try again; contact developers if necessary"))})))})),Object(p.a)(t,"children","Confirm order"),t)),Object(b.jsx)("div",{className:"mx-3",hidden:!S,children:Object(b.jsx)("div",{class:"spinner-border",role:"status",children:Object(b.jsx)("span",{class:"visually-hidden",children:"Loading..."})})})]})]})}):Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"col-12 mt-2",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:"Account: "}),e.additionalData.pupil.firstname," ",e.additionalData.pupil.lastname]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:"Test: "}),e.additionalData.pupil.tests.find((function(t){return t.test.fakeId==e.id})).test.title]}),Object(b.jsx)("p",{children:Object(b.jsx)("strong",{children:"Unfortunately, the test is not in database yet. Come back later!"})})]})}):Object(b.jsx)("div",{children:"Fetching some data..."}):Object(b.jsx)(r.b,{to:"/signin"})};var g=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h4",{className:"mt-2",children:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0443!"}),Object(b.jsx)("h5",{className:"text-danger",children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"}),Object(b.jsx)("p",{children:'\u041e\u0442\u0432\u0435\u0442\u044b \u0431\u044b\u043b\u0438 \u0432\u0431\u0438\u0442\u044b; \u0442\u0435\u043f\u0435\u0440\u044c \u0412\u0430\u043c \u043e\u0441\u0442\u0430\u0435\u0442\u0441\u044f \u043b\u0438\u0448\u044c \u043f\u043e\u0434\u043e\u0436\u0434\u0430\u0442\u044c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u043c\u0438\u043d\u0443\u0442 7, \u0447\u0442\u043e\u0431\u044b \u0443\u0447\u0438\u0442\u0435\u043b\u044c \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0437\u0430\u043f\u043e\u0434\u043e\u0437\u0440\u0438\u043b), \u0432\u043e\u0439\u0442\u0438 \u0432 \u0441\u0432\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 videouroki.net \u0438 \u043d\u0430\u0436\u0430\u0442\u044c "\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c" \u043d\u0430 \u0437\u0430\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u043c \u0442\u0435\u0441\u0442\u0435. \u0422\u0435\u0441\u0442 \u0431\u0443\u0434\u0435\u0442 \u0443\u0436\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u043b\u0438\u0431\u043e \u0431\u0443\u0434\u0443\u0442 \u0432\u0431\u0438\u0442\u044b \u043e\u0442\u0432\u0435\u0442\u044b, \u0438 \u0412\u0430\u043c \u043e\u0441\u0442\u0430\u043d\u0435\u0442\u0441\u044f \u043b\u0438\u0448\u044c \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0442\u0435\u0441\u0442.'})]})},v=c(13),N=c(14),y=["customFields"],S={nan:{text:"\u0412\u0432\u0435\u0434\u0451\u043d\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c!"},empty:{text:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443!"},badPromo:{text:"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}};var w=function(e){var t=Object(r.f)(),c=Object(d.a)(t,2),n=(c[0],c[1],Object(s.useState)(e.user&&!0)),a=Object(d.a)(n,2),i=a[0],l=(a[1],function(e){return isNaN(e)?2:""==e?1:0==parseFloat(e)?3:0}),o=function(e){return e==E.text?0:1},j=Object(s.useState)(150),u=Object(d.a)(j,2),h=u[0],m=u[1],O=Object(s.useState)(1),x=Object(d.a)(O,2),p=x[0],f=x[1],g=Object(s.useState)(!0),w=Object(d.a)(g,2),I=w[0],P=w[1],D=Object(s.useState)(!1),k=Object(d.a)(D,2),L=k[0],A=k[1],R=Object(s.useState)({text:"",multiplier:1}),F=Object(d.a)(R,2),E=F[0],C=F[1],J=Object(s.useState)(!1),T=Object(d.a)(J,2),K=T[0],U=T[1],M=Object(s.useRef)(null),H=Object(s.useState)([]),_=Object(d.a)(H,2),q=_[0],V=_[1];return i?Object(b.jsxs)("div",{className:"col-12 col-md-5 mx-auto mt-5 border",children:[Object(b.jsx)("div",{className:"border-bottom mb-1 px-3 pt-2 bg-light",children:Object(b.jsx)("h5",{children:"\u041f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0441\u0447\u0451\u0442"})}),Object(b.jsxs)("form",{className:"px-3 py-2",ref:M,onSubmit:function(e){e.preventDefault()},onChange:function(e){var t=[],c=M.current.elements.inputSum.value,s=M.current.elements.inputPromo.value,n=l(c),a=o(s);switch(n){case 0:m(parseFloat(c));break;case 1:t.push("empty"),m(0);break;case 2:t.push("nan"),m(0);break;case 3:t.push("empty"),m(0)}switch(a){case 0:f(E.multiplier),A(!1);break;case 1:f(1),A(s)}P(0===n&&0===a),V(t)},children:[q.map((function(e){return Object(b.jsx)("div",{className:"row text-danger mb-1",children:Object(b.jsx)("div",{className:"col-12",children:S[e].text})})})),Object(b.jsxs)("div",{className:"row align-items-center",children:[Object(b.jsx)("label",{for:"inputSum",className:"col-4 col-form-label",children:"\u0421\u0443\u043c\u043c\u0430*"}),Object(b.jsx)("div",{className:"col-8",children:Object(b.jsx)("input",{name:"inputSum",type:"number",step:"15.0",min:"0",placeholder:"150.00",className:"w-100",defaultValue:h,required:!0})})]}),Object(b.jsxs)("div",{className:"row align-items-center",children:[Object(b.jsx)("label",{for:"inputPromo",className:"col-4 col-form-label",children:"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434"}),Object(b.jsx)("div",{className:"col-8",children:Object(b.jsx)("input",{name:"inputPromo",type:"text",placeholder:"AMOGA25",className:"w-100"})})]}),Object(b.jsxs)("div",{className:"row align-items-center",children:[Object(b.jsx)("label",{for:"inputTotal",className:"col-4 col-form-label",children:"\u0418\u0442\u043e\u0433\u043e:"}),Object(b.jsx)("div",{className:"col-8",children:Object(b.jsx)("input",{name:"inputTotal",type:"text",placeholder:"123.0",className:"w-100",value:"".concat(h*p," RUR"),disabled:!0})})]}),Object(b.jsxs)("div",{className:"d-flex align-items-center mt-2",children:[Object(b.jsx)("button",{name:"submit",type:"submit",class:"btn btn-primary",onClick:function(t){t.preventDefault();var c,s={publicKey:"48e7qUxn9T7RyYE1MVZswX1FRSbE6iyCj2gCRwwF3Dnh5XrasNTx3BGPiMsyXQFNKQhvukniQG8RTVhYm3iPv6GW1dNY2axMhQYJVgqd3ZZWtm2qa9DTWve4GtjW1NwUBCZm7u6TuSmpuUdjE5hyJNKrwVJt8mQbJGtX2j8LoPmvL9M7uRdj4pwWtUVDp",amount:h.toFixed(2),account:encodeURIComponent(e.user.login),customFields:{promo:encodeURIComponent(E.text),themeCode:"Andrei-LLlD4scgVW"},lifetime:"".concat((c=new Date(Date.now()+15e5),"".concat(c.getFullYear(),"-").concat(c.getMonth()<10?"0".concat(c.getMonth()):c.getMonth(),"-").concat(c.getDate()<10?"0".concat(c.getDate()):c.getDate(),"\u0422").concat(c.getHours()<10?"0".concat(c.getHours()):c.getHours()).concat(c.getMinutes()<10?"0".concat(c.getMinutes()):c.getMinutes()))),successUrl:"".concat(window.location.origin,"/tests/success?amount=").concat(h.toFixed(2))},n=s.customFields,a=Object(N.a)(s,y),i=new URLSearchParams(Object(v.a)({},a)),r="https://oplata.qiwi.com/create?".concat(i.toString(),"&customFields[promo]=").concat(n.promo,"&customFields[themeCode]=").concat(n.themeCode);window.location.href=r},disabled:!I,children:"\u041f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c"}),Object(b.jsx)("button",{name:"submit",type:"",class:"btn btn-outline-primary ms-2",onClick:function(e){e.preventDefault();var t=L;U(!0),fetch(window.API_LINK+"/promo",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({promo:t})}).then((function(e){return e.json()})).then((function(e){U(!1),e.success?e.goodPromo?(A(!1),C({text:t,multiplier:e.multiplier}),f(e.multiplier),0==q.length&&P(!0)):(q.push("badPromo"),V(q),f(1),C({text:"",multiplier:1})):alert("Something bad happened; try again")})).catch((function(e){return alert("Something bad happened, try again; ".concat(e))}))},disabled:!L,children:"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043f\u0440\u043e\u043c\u043e"}),Object(b.jsx)("div",{className:"mx-3",children:Object(b.jsx)("div",{class:"spinner-border",role:"status",hidden:!K,children:Object(b.jsx)("span",{class:"visually-hidden",children:"Loading..."})})})]})]})]}):Object(b.jsx)(r.b,{to:"/signin"})};var I=function(){var e=new URLSearchParams(window.location.search).get("amount");return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h4",{className:"mt-2",children:["\u0412\u0430\u0448 \u0441\u0447\u0435\u0442 \u0431\u044b\u043b \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d \u043d\u0430 ",e," \u0440\u0443\u0431\u043b\u0435\u0439"]}),Object(b.jsx)("h5",{className:"text-danger",children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"}),Object(b.jsx)("p",{children:"\u0415\u0441\u043b\u0438 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0441\u0443\u043c\u043c\u0430 \u043d\u0435 \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u043d\u0430 \u0441\u0447\u0435\u0442\u0443 - \u0441\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0435\u0439"})]})};var P=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("h4",{children:"\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043c\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442!"})})};var D=function(){return Object(b.jsxs)("div",{className:"mt-2",children:[Object(b.jsx)("h1",{children:"\u0422\u0435\u0441\u0442\u044b \u2014 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430!"}),Object(b.jsx)("h3",{children:"\u0415\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u0434\u0435\u043d\u0435\u0436\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430"}),Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("button",{className:"btn btn-outline-light border rounded-10",children:Object(b.jsx)(r.a,{href:"/pay",style:{textDecoration:"none",color:"gray"},children:"\u041f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0441\u0447\u0451\u0442"})}),Object(b.jsx)("button",{className:"btn btn-outline-light border rounded-10 ms-2",children:Object(b.jsx)(r.a,{href:"/usertests",style:{textDecoration:"none",color:"gray"},children:"\u0422\u0435\u0441\u0442\u044b \u043d\u0430 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0435"})})]})]})};var k=function(){var e=Object(r.f)(),t=Object(d.a)(e,2),c=(t[0],t[1]),n=Object(s.useState)(JSON.parse(localStorage.getItem("user"))),a=Object(d.a)(n,2),i=a[0],l=a[1],h=Object(s.useState)({}),p=Object(d.a)(h,2),v=p[0],N=p[1],y=Object(s.useState)(0),S=Object(d.a)(y,2),k=S[0],L=S[1],A=Object(s.useState)(!0),R=Object(d.a)(A,2),F=R[0],E=R[1];return Object(s.useEffect)(Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E(!0),i){e.next=5;break}E(!1),e.next=10;break;case 5:return e.next=7,fetch(window.API_LINK+"/getdata",{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({PHPSESSID:i.PHPSESSID,login:i.login})}).then((function(e){return e.json()})).then((function(e){e.success?N(Object.assign(v,e.backend)):(l(null),localStorage.removeItem("user"))})).catch((function(e){l(null),localStorage.removeItem("user")}));case 7:return e.next=9,fetch(window.API_LINK+"/getcash",{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({PHPSESSID:i.PHPSESSID,login:i.login})}).then((function(e){return e.json()})).then((function(e){N(Object.assign(v,{cash:e.cash})),L(e.cash)}));case 9:E(!1);case 10:case"end":return e.stop()}}),e)}))),[i]),F?Object(b.jsxs)("div",{className:"d-flex mx-auto align-items-center",id:"loadscreen",children:[Object(b.jsx)("strong",{children:"Loading..."}),Object(b.jsx)("div",{class:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]}):Object(b.jsxs)("div",{children:[Object(b.jsx)("header",{className:"mt-2 border-bottom",children:Object(b.jsxs)("div",{className:"col-12 col-md-10 col-lg-8 d-flex mx-auto align-items-center px-2",id:"navitems",children:[Object(b.jsx)(r.a,{href:"/",children:Object(b.jsx)("h4",{id:"logo",children:"TestiKupit"})}),Object(b.jsx)(r.a,{href:"/usertests",style:{marginLeft:"30px"},children:"\u0422\u0435\u0441\u0442\u044b"}),Object(b.jsx)(r.a,{href:"/pay",style:{marginLeft:"30px"},children:"\u041f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c"}),Object(b.jsx)("div",{style:{marginLeft:"auto"},children:i?Object(b.jsxs)("span",{id:"acc",children:[v.pupil.firstname," ",k/100>>0,".",k%100," RUR",Object(b.jsxs)("span",{style:{marginLeft:"8px"},children:["(",Object(b.jsx)("a",{href:"#",onClick:function(e){e.preventDefault(),localStorage.removeItem("user"),c("/signin"),l(null)},children:"\u0412\u044b\u0439\u0442\u0438"}),")"]})]}):Object(b.jsx)(r.a,{href:"/signin",children:"\u0412\u043e\u0439\u0442\u0438"})})]})}),Object(b.jsx)("main",{children:Object(b.jsx)("div",{className:"col-12 col-md-10 col-lg-8 mx-auto px-2",children:Object(b.jsxs)(r.e,{children:[Object(b.jsx)(r.c,{path:"/",component:D}),Object(b.jsx)(r.c,{path:"/testlist",component:u}),Object(b.jsx)(r.c,{path:"/usertests",component:function(){return Object(b.jsx)(O,{user:i,additionalData:v})}}),Object(b.jsx)(r.c,{path:"/addtest",component:x}),Object(b.jsx)(r.c,{path:"/purchase",children:function(){return Object(b.jsx)(r.b,{to:"/usertests"})}}),Object(b.jsx)(r.c,{path:"/purchase/:id",children:function(e){return Object(b.jsx)(f,{id:e.id,user:i,additionalData:v,cash:k,setcash:L})}}),Object(b.jsx)(r.c,{path:"/signin",component:function(){return Object(b.jsx)(m,{setuser:l,setAdditionalData:N})}}),Object(b.jsx)(r.c,{path:"/afterlife",component:g}),Object(b.jsx)(r.c,{path:"/pay",component:function(){return Object(b.jsx)(w,{user:i})}}),Object(b.jsx)(r.c,{path:"/success",component:I}),Object(b.jsx)(r.c,{path:"",component:P})]})})}),Object(b.jsx)("footer",{className:"border-top bg-light",children:Object(b.jsxs)("div",{className:"col-12 col-md-10 col-lg-8 mx-auto text-black py-2 px-2",children:["By ",Object(b.jsx)("a",{href:"https://vk.com/gluchnosti",target:"_blank",className:"text-black",style:{textDecoration:"underline",color:"#AAAAAA"},children:"gluchnosti"})]})})]})};window.API_LINK="".concat(window.location.origin,"/tests/api"),i.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(r.d,{base:"/tests",children:Object(b.jsx)(k,{})})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.34c1c2d8.chunk.js.map