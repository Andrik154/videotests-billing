{"version":3,"sources":["components/Card.js","components/Dish.js","components/Index.js","components/Settings.js","components/Table.js","App.js","reportWebVitals.js","index.js"],"names":["Card","props","menu","banlist","Array","from","filter","map","id","categories","find","e","products","flat","window","city","title","className","style","render","i","item","computableDishes","includes","CDN_PREFIX","image","alt","hidden","epRatio","type","m","mm","price","toFixed","onClick","preventDefault","img","document","querySelector","setAttribute","getAttribute","removeAttribute","href","Dish","params","dish","src","maxHeight","descr","cfpCalc","p","f","c","cfp","consistsOf","d","Index","fontSize","Settings","setFilter","useState","cities","setCities","loaded","setLoaded","sCities","setSCities","useEffect","fetch","method","then","r","json","value","forEach","defaultStore","push","searchstring","Object","keys","l","join","onChange","input","target","length","some","toLowerCase","searchCities","placeholder","el","localStorage","setItem","JSON","stringify","location","reload","b","banned","sb","indexOf","splice","toggleFilter","console","log","defaultChecked","name","htmlFor","Table","App","setMenu","parse","getItem","data","main","coupons","key","undefined","carbs","volume","energy","gr","ml","delivery","inStore","composition","fats","proteins","ccal","parseFloat","assign","totalCfp","modifierGroups","mg","modifiers","productId","sort","a","menuSort","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","base","getElementById"],"mappings":"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","file":"static/js/main.824b0cab.chunk.js","sourcesContent":["import { Link } from \"wouter\";\r\n\r\nfunction Card(props){\r\n  const menu = props.menu;\r\n  const banlist = Array.from(props.filter.map(id=>menu.categories.find(e=>e.id===id).products)).flat();\r\n  return (\r\n    <>\r\n      <strong>City: </strong><span>{window.city.title}</span>\r\n      <div className=\"d-flex flex-wrap w-100 mt-3\" style={{}}>\r\n        {\r\n          menu.render.map(i=>{\r\n            let item = menu.computableDishes[i];\r\n            if (banlist.includes(item.id)) return <></>;\r\n            return(\r\n              <div className=\"card mb-2 me-auto foodcard\">\r\n                {/* <div className=\"card-header\">\r\n                  {item.title}\r\n                </div> */}\r\n                <div className=\"card-body bg-light\">\r\n                  <h6 className=\"card-title\">\r\n                    {item.title}\r\n                  </h6>\r\n                  <p className=\"card-text\">\r\n                    {/* {item.descr} */}\r\n                  </p>\r\n                </div>\r\n                <img data-src={`${window.CDN_PREFIX}/${item.image}`} id={`img${item.id}`} className=\"card-img-top border-top my-auto\" alt={item.title} hidden></img>\r\n                <ul className=\"list-group list-group-flush\">\r\n                    <li className=\"list-group-item\">\r\n                      <div className=\"row\">\r\n                        <div className=\"col-6 text-start\"><strong>Ccal/RUB ratio:</strong></div>\r\n                        <div className=\"col-6 text-start\">{item.epRatio}</div>\r\n                      </div>\r\n                    </li>                    \r\n                    <li className=\"list-group-item\">\r\n                      <div className=\"row\">\r\n                        <div className=\"col-6 text-start\"><strong>Volume</strong></div>\r\n                        <div className=\"col-6 text-start\">{item.type==='Dish'?`${item.m} ${item.mm}`:'-'}</div>\r\n                      </div>\r\n                    </li>                    \r\n                    <li className=\"list-group-item\">\r\n                      <div className=\"row\">\r\n                        <div className=\"col-6 text-start\"><strong>Price:</strong></div>\r\n                        <div className=\"col-6 text-start\">{(item.price/100).toFixed(2)}₽</div>\r\n                      </div>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <div className=\"row\">\r\n                        <div className=\"col-12\"><button className=\"btn-link\" onClick={(e)=>{e.preventDefault(); let img = document.querySelector(`#img${item.id}`); img.setAttribute('src', img.getAttribute('data-src')); img.removeAttribute('hidden')}}>Показать фото</button></div>\r\n                      </div>\r\n                    </li>\r\n                </ul>\r\n                <div className=\"px-3 py-2\">\r\n                  <Link href={`/dish/${item.id}`} className=\"btn btn-primary\">Узнать больше</Link>\r\n                </div>\r\n              </div>\r\n            )\r\n          })\r\n        }\r\n        </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Card;","\r\nfunction Dish(params){\r\n  const id = params.id;\r\n  const menu = params.menu;\r\n  const dish = menu.computableDishes[id];\r\n  if(dish.type==='Dish'){\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-12 col-md-6\">\r\n          <img src={`${window.CDN_PREFIX}295x0/${dish.image}`} alt={dish.title} style={{maxHeight:'30vh'}}></img>\r\n          <h4><strong>{dish.title}</strong></h4>\r\n        </div>\r\n        <div className=\"col-12 col-md-6\">\r\n          <h5>Описание товара:</h5>\r\n          <p>{dish.descr}</p>\r\n          <p><strong>Масса/Объем:</strong> {dish.m} {dish.mm}</p>\r\n          <h5>КБЖУ (рассчитано)</h5> \r\n          <table className=\"table table-bordered w-50\">\r\n            <thead>\r\n              <tr>\r\n                <th>К</th>\r\n                <th>Б</th>\r\n                <th>Ж</th>\r\n                <th>У</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td>{dish.cfpCalc.e} ккал</td>\r\n                <td>{dish.cfpCalc.p} г</td>\r\n                <td>{dish.cfpCalc.f} г</td>\r\n                <td>{dish.cfpCalc.c} г</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    )\r\n  } else if (dish.type==='Combo'){\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-12 col-md-6\">\r\n          <img src={`${window.CDN_PREFIX}295x0/${dish.image}`} alt={dish.title} style={{maxHeight:'30vh'}}></img>\r\n          <h4><strong>{dish.title}</strong></h4>\r\n        </div>\r\n        <div className=\"col-12 col-md-6\">\r\n          <h5>Описание товара:</h5>\r\n          <p>{dish.descr}</p>\r\n          <h5>КБЖУ (рассчитано, неточно)</h5> \r\n          <table className=\"table table-bordered w-50\">\r\n            <thead>\r\n              <tr>\r\n                <th>К</th>\r\n                <th>Б</th>\r\n                <th>Ж</th>\r\n                <th>У</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td>{dish.cfp.e} ккал</td>\r\n                <td>{dish.cfp.p} г</td>\r\n                <td>{dish.cfp.f} г</td>\r\n                <td>{dish.cfp.c} г</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <h5>Рассчитано используя:</h5>\r\n          <ul>\r\n            {\r\n              dish.consistsOf.map(i=>{\r\n                let d = menu.computableDishes[i] || false;\r\n                if (!d) return <></>;\r\n                return (\r\n                  <li>{d.title} - {d.cfpCalc.e} ccal</li>\r\n                )\r\n              })\r\n            }\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Dish;","import { Link } from \"wouter\";\r\n\r\nfunction Index(){\r\n  return (\r\n    <>\r\n    <h1>СТАВЬ ЛАЙК ЕСЛИ</h1>\r\n    <p style={{fontSize:'5px'}}>знаешь все треки моргена наизусть</p>\r\n    <div className=\"w-100\">\r\n    <h4>\r\n      Внимание!\r\n    </h4>\r\n    <p>\r\n      Есть баги с некоторыми купонами по причине в них входят позиции, информация по которым не содержится в меню, так что внимательно изучайте все позиции и обращайте внимание на все\r\n    </p>\r\n    <p>\r\n      Некоторые позиции имеют соотношение ккал/руб равное нулю, так как KFC не предоставили необходимую информацию по позиции\r\n    </p>\r\n    <ul>\r\n      <li><Link href=\"/table\" className=\"d-inline ml-2\">Табличка</Link> - табличный вид</li>\r\n      <li><Link href=\"/cards\" className=\"d-inline ml-2 mt-2\">Карточки</Link> - типо как в интернет-магазине</li>\r\n      <li><Link href=\"/settings\" className=\"d-inline ml-2 mt-2\">Настройки</Link> - настроечки (город, фильтр)</li>\r\n    </ul>\r\n    </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Index;","import { useEffect, useState } from \"react\";\r\n\r\nconst getCities = ()=>{\r\n  return fetch('https://api.kfc.com/api/store/v2/store.get_cities', {method:'POST'}).then(r=>r.json()).then(d=>{\r\n    var cities = [];\r\n    d.value.cities.forEach(i=>{\r\n      i.defaultStore&&cities.push({\r\n        defaultStore: i.defaultStore.id || false,\r\n        searchstring: Object.keys(i.title).map(l=>i.title[l]).join(''),\r\n        title: i.title['ru']\r\n      });\r\n    })\r\n    return cities;\r\n  })\r\n}\r\nconst searchCities = (e, cities, setSCities)=>{\r\n  e.preventDefault();\r\n  let input = e.target.value;\r\n  let sCities = [];\r\n  if (input.length>=2){\r\n    cities.some(e=>{\r\n      if(e.searchstring.toLowerCase().includes(input.toLowerCase())){\r\n        sCities.push({\r\n          title: e.title,\r\n          defaultStore: e.defaultStore\r\n        })\r\n      }\r\n      return sCities.length>4;\r\n    })\r\n    setSCities(sCities);\r\n  }\r\n}\r\nconst toggleFilter=(b, banned, sb)=>{\r\n  let i = banned.indexOf(b);\r\n  if (i>-1){\r\n    banned.splice(i, 1);\r\n  } else {\r\n    banned.push(b);\r\n  }\r\n  localStorage.setItem('filter',JSON.stringify(banned));\r\n  sb(banned);\r\n}\r\n\r\nfunction Settings(props){\r\n  const categories = props.categories;\r\n  const setFilter = props.setFilter;\r\n  var filter = props.filter\r\n  const [cities, setCities] = useState([]);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [sCities, setSCities] = useState([]);\r\n  useEffect(()=>{\r\n  getCities().then(cities=>{\r\n    setCities(cities);\r\n    setLoaded(true);\r\n  })\r\n  },[])\r\n  if(!loaded){\r\n    return <>Fetching some data...</>\r\n  }\r\n  return (\r\n    <>\r\n      <h4>Set city</h4>\r\n      <strong>City: </strong><span>{window.city.title}</span><br />\r\n      <input className=\"col-12 col-md-4\" type=\"text\" onChange={(e)=>searchCities(e, cities, setSCities)} placeholder=\"City...\" />\r\n      <ul className=\"list-group mt-2\">\r\n        {\r\n          sCities.length>0?\r\n            <>\r\n              {\r\n              sCities.map((el)=>{\r\n                return <li className=\"list-group-item d-flex justify-content-between py-0 px-1 col-12 col-md-4\">{el.title} <button className=\"btn-link\" onClick={(e)=>{e.preventDefault(); localStorage.setItem('city', JSON.stringify({title:el.title,id:el.defaultStore})); localStorage.setItem('filter', '[]'); window.location.reload()}}>Выбрать</button></li>\r\n              })\r\n              }\r\n            </>\r\n            :\r\n            <></>\r\n        }\r\n      </ul>\r\n      <hr />\r\n      <h4>\r\n        Set filter\r\n      </h4>\r\n      <div className=\"form-check d-flex flex-wrap\">\r\n        {\r\n          categories.map((c)=>{\r\n            return (\r\n              <div className=\"col-12 col-sm-6 col-md-3\" onChange={(e)=>{toggleFilter(c.id, filter, setFilter); console.log(filter)}}>\r\n                <input className=\"form-check-input\" type=\"checkbox\" defaultChecked={!(filter.indexOf(c.id)>-1)} name={c.id} />\r\n                <label className=\"form-check-label\" htmlFor={c.id}>\r\n                  {c.title}\r\n                </label>\r\n              </div>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Settings;","import { Link } from 'wouter';\r\n\r\nfunction Table(props){\r\n  const menu = props.menu;\r\n  const banlist = Array.from(props.filter.map(id=>menu.categories.find(e=>e.id===id).products)).flat();\r\n  return (\r\n    <>\r\n      <strong>City: </strong><span>{window.city.title}</span>\r\n      <table className=\"table table-bordered mt-3\">\r\n        <thead>\r\n          <tr>\r\n            <th>title</th>\r\n            <th>ccal/rub</th>\r\n            <th>price</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n            {\r\n              menu.render.map(i=>{\r\n                let item = menu.computableDishes[i];\r\n                if (banlist.includes(item.id)) return <></>;\r\n                return(\r\n                  <tr>\r\n                    <td>\r\n                    <Link href={`/dish/${item.id}`}>{item.title}</Link>\r\n                    </td>\r\n                    <td>\r\n                      {item.epRatio}\r\n                    </td>\r\n                    <td>\r\n                      {(item.price/100).toFixed(2)}₽\r\n                    </td>\r\n                  </tr>\r\n                )\r\n              })\r\n            }\r\n        </tbody>\r\n      </table> \r\n    </>\r\n  )\r\n}\r\n\r\nexport default Table;","import { useEffect, useState } from 'react';\r\nimport { Switch, Route, Link } from 'wouter';\r\n\r\nimport './App.css';\r\nimport Card from './components/Card';\r\nimport Dish from './components/Dish';\r\nimport Index from './components/Index';\r\nimport Settings from './components/Settings';\r\nimport Table from './components/Table';\r\n\r\nconst getData = () =>{\r\n  return fetch(`https://api.kfc.com/api/menu/api/v1/menu.short/${window.city.id}/website/finger_lickin_good`).then(r=>r.json()).then(d=>{console.log(d); return d});\r\n}\r\nconst menuSort = (data) => {\r\n  var menu = {\r\n    computableDishes:{\r\n    },\r\n    categories: [...data.value.categories.main, ...data.value.categories.coupons],\r\n    render:[]\r\n  }\r\n\r\n  Object.keys(data.value.products).forEach((key)=>{\r\n    let item = data.value.products[key];\r\n    if(item.type==='Dish' && item.carbs!==undefined && item.volume!==undefined && item.energy!==undefined){\r\n      let m = item.volume.gr || item.volume.ml;\r\n      let mm = Object.keys(item.volume)[0];\r\n      let dish = {\r\n        type: item.type,\r\n        delivery: item.delivery || false,\r\n        inStore: item.inStore || false,\r\n        price: item.price,\r\n        title: item.title,\r\n        descr: item.descr,\r\n        id: item.id,\r\n        composition: item.composition || false,\r\n        image: item.image,\r\n        m: m,\r\n        mm: mm,\r\n        cfp:{\r\n          c: item.carbs.gr,\r\n          f: item.fats.gr,\r\n          p: item.proteins.gr,\r\n          e: item.energy.ccal,\r\n        },\r\n        cfpCalc:{\r\n          c: parseFloat((item.carbs.gr*m/100).toFixed(2)),\r\n          f: parseFloat((item.fats.gr*m/100).toFixed(2)),\r\n          p: parseFloat((item.proteins.gr*m/100).toFixed(2)),\r\n          e: parseFloat((item.energy.ccal*m/100).toFixed(2)),\r\n        },\r\n        epRatio:parseFloat((item.energy.ccal*m/100/(item.price/100)).toFixed(2))\r\n      }\r\n      Object.assign(menu.computableDishes,{[dish.id]:dish});\r\n      menu.render.push(item.id);\r\n    } else if (item.type==='Dish'){\r\n      let dish = {\r\n        type: item.type,\r\n        delivery: item.delivery || false,\r\n        price: item.price,\r\n        title: item.title,\r\n        descr: item.descr,\r\n        id: item.id,\r\n        image: item.image,\r\n        m: 0,\r\n        mm: '',\r\n        cfp: {\r\n          c: 0,\r\n          f: 0,\r\n          p: 0,\r\n          e: 0\r\n        },\r\n        cfpCalc: {\r\n          c: 0,\r\n          f: 0,\r\n          p: 0,\r\n          e: 0\r\n        },\r\n        epRatio:0,\r\n      }\r\n      Object.assign(menu.computableDishes, {[item.id]:dish});\r\n      menu.render.push(item.id);\r\n    }\r\n  })\r\n  Object.keys(data.value.products).forEach((key)=>{\r\n    let item = data.value.products[key];\r\n    if (item.type==='Combo'){\r\n      var consistsOf = [];\r\n      var totalCfp={c:0, f:0, p:0, e:0};\r\n      item.modifierGroups.forEach(mg=>{\r\n        let id = mg.modifiers[0].productId;\r\n        consistsOf.push(id);\r\n        let dish = menu.computableDishes[id] || false;\r\n        if (dish){\r\n          totalCfp.c+=dish.cfpCalc.c;\r\n          totalCfp.f+=dish.cfpCalc.f;\r\n          totalCfp.p+=dish.cfpCalc.p;\r\n          totalCfp.e+=dish.cfpCalc.e;\r\n        }\r\n      })\r\n      let dish = {\r\n        type: item.type,\r\n        delivery: item.delivery || false,\r\n        price: item.price,\r\n        title: item.title,\r\n        descr: item.descr,\r\n        id: item.id,\r\n        composition: item.composition,\r\n        image:item.image,\r\n        consistsOf: consistsOf,\r\n        cfp: totalCfp,\r\n        cfpCalc: totalCfp,\r\n        epRatio: parseFloat((totalCfp.e/(item.price/100)).toFixed(2))\r\n      }\r\n      Object.assign(menu.computableDishes, {[item.id]:dish});\r\n      menu.render.push(item.id);\r\n    }\r\n  })\r\n  menu.render = menu.render.sort((a,b)=>menu.computableDishes[b].epRatio - menu.computableDishes[a].epRatio);\r\n  console.log(menu);\r\n  return menu;\r\n}\r\n\r\nfunction App() {\r\n  const [menu, setMenu]=useState([]);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [filter, setFilter] = useState(JSON.parse(localStorage.getItem('filter')) || []);\r\n  useEffect(()=>{\r\n    getData().then((d)=>{\r\n      setMenu(menuSort(d));\r\n      setLoaded(true);\r\n    });\r\n  }, []);\r\n  if (!loaded){\r\n    return (\r\n      <>\r\n        <div>Fetching some data</div>\r\n      </>\r\n    )\r\n  }\r\n  return (\r\n    <div>\r\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n        <div className=\"container-fluid col-12 col-lg-10 mx-auto\">\r\n          <Link className=\"navbar-brand\" href=\"/\">KFCfree</Link>\r\n          <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarText\" aria-controls=\"navbarText\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarText\">\r\n          <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n              {/* <li className=\"nav-item\">\r\n                <Link href=\"/\" className=\"nav-link\">Home</Link>\r\n              </li> */}\r\n              <li className=\"nav-item\">\r\n                <Link href=\"/table\" className=\"nav-link\">Table</Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link href=\"/card\" className=\"nav-link\">Card</Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link href=\"/settings\" className=\"nav-link\">Settings</Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n      <main className=\"col-12 col-lg-10 mx-auto mt-3 mb-3 px-3\">\r\n        <Switch>\r\n          <Route path=\"/\">\r\n            {()=><Index />}\r\n          </Route>\r\n          <Route path=\"/table\">\r\n            {()=><Table menu={menu} filter={filter} />}\r\n          </Route>\r\n          <Route path=\"/card\">\r\n            {()=><Card menu={menu} filter={filter} />}\r\n          </Route>\r\n          <Route path=\"/settings\">\r\n            {()=><Settings categories={menu.categories} filter={filter} setFilter={setFilter} />}\r\n          </Route>\r\n          <Route path=\"/dish/:id\">\r\n            {(params)=><Dish id={params.id} menu={menu} />}\r\n          </Route>\r\n        </Switch>\r\n      </main>\r\n      <footer className=\"bg-dark\">\r\n        <div className=\"col-12 col-lg-10 mx-auto my-auto py-2 px-3\">\r\n          <span className=\"text-white\">Made by <a href=\"https://vk.com/gluchnosti\" className=\"text-muted\">gluchnosti</a></span>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Router } from 'wouter';\r\n\r\nwindow.city = JSON.parse(localStorage.getItem('city')) || {title:'Москва', id:'74013271'};\r\nwindow.CDN_PREFIX = 'https://s82079.cdn.ngenix.net/';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router base=\"/kfc\">\r\n      <App />\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}